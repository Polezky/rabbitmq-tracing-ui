var ut=Object.defineProperty;var ct=(l,e,t)=>e in l?ut(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var O=(l,e,t)=>(ct(l,typeof e!="symbol"?e+"":e,t),t);import{S as te,i as le,s as se,e as he,b as M,H as X,h as d,k as v,a as w,l as k,m as T,c as D,n as E,G as p,J as _e,K as de,q as K,r as j,u as Z,L as ft,M as Ee,N as fe,O as q,P as oe,Q as ve,R as x,T as tt,o as Ie,U as ke,V as lt,W as Q,g as G,v as me,d as H,f as pe,X as ht,y as ae,z as re,A as ue,B as ce}from"../chunks/index.9614888c.js";import{w as dt}from"../chunks/index.66e03b77.js";var A=(l=>(l[l.Text=0]="Text",l[l.TextArray=1]="TextArray",l[l.Number=2]="Number",l[l.DateTime=3]="DateTime",l))(A||{});const Y=[Object.freeze({type:A.DateTime,displayName:"Date & Time",logItemKey:"timestamp",getDisplayValue:l=>l.timestamp.toISOString()}),Object.freeze({type:A.Number,displayName:"Channel",logItemKey:"channel"}),Object.freeze({type:A.Text,displayName:"Connection",logItemKey:"connection"}),Object.freeze({type:A.Text,displayName:"Exchange",logItemKey:"exchange"}),Object.freeze({type:A.Text,displayName:"Node",logItemKey:"node"}),Object.freeze({type:A.Text,displayName:"Payload",logItemKey:"payload"}),Object.freeze({type:A.Text,displayName:"Queue",logItemKey:"queue"}),Object.freeze({type:A.TextArray,displayName:"Routed Queues",logItemKey:"routed_queues"}),Object.freeze({type:A.TextArray,displayName:"Routing Keys",logItemKey:"routing_keys"}),Object.freeze({type:A.Text,displayName:"Type",logItemKey:"type"}),Object.freeze({type:A.Text,displayName:"User",logItemKey:"user"}),Object.freeze({type:A.Text,displayName:"Vhost",logItemKey:"vhost"}),Object.freeze({type:A.Number,displayName:"Delivery Mode",logItemKey:"delivery_mode"})],st="logItemColumnList",ee=dt({isEditMode:!1,columns:[]});let ye;class ge{constructor(e){this.columns=e,ee.update(t=>({...t,columns:this.columns}))}toggleColumnVisibility(e){e.isVisible=!e.isVisible;const t=this.columns.some(s=>s.isVisible)?void 0:!1;this.saveColumnsAndUpdateStore(t)}moveColumnLeft(e){this.moveColumn(e,!1)}moveColumnRight(e){this.moveColumn(e,!0)}canMoveColumnLeft(e){const t=this.getVisibleColumns();return e.index>Math.min(...t.map(s=>s.index))}canMoveColumnRight(e){const t=this.getVisibleColumns();return e.index<Math.max(...t.map(s=>s.index))}getVisibleColumns(){return this.columns.filter(e=>e.isVisible)}moveColumn(e,t){if(t&&!this.canMoveColumnRight(e)||!t&&!this.canMoveColumnLeft(e))return;const s=this.getVisibleColumns(),n=e.index,i=t?s.find(a=>a.index>n):s.reverse().find(a=>a.index<n);e.index=i.index,i.index=n,this.columns=nt(this.columns),this.saveColumnsAndUpdateStore()}saveColumnsAndUpdateStore(e){this.save(),ee.update(t=>({columns:this.columns,isEditMode:e===void 0?t.isEditMode:e}))}save(){const e=JSON.stringify(this.columns);localStorage.setItem(st,e)}static get instance(){if(!ye){const e=mt();ye=new ge(e)}return ye}}function mt(){let l;const e=typeof localStorage<"u"?localStorage.getItem(st):void 0;return e?l=JSON.parse(e):l=Y.map(({displayName:t,logItemKey:s},n)=>({displayName:t,logItemKey:s,isVisible:!0,index:n})),nt(l)}function nt(l){return l.sort((e,t)=>e.index-t.index)}const{Map:it}=ft;function Ve(l,e,t){const s=l.slice();return s[8]=e[t],s[10]=t,s}function Me(l,e,t){const s=l.slice();return s[11]=e[t],s}function we(l,e,t){const s=l.slice();return s[11]=e[t],s}function De(l){let e,t,s,n=[],i=new it,a,o,r=l[1];const u=c=>c[11].index;for(let c=0;c<r.length;c+=1){let m=we(l,r,c),h=u(m);i.set(h,n[c]=Se(h,m))}let g=l[0],f=[];for(let c=0;c<g.length;c+=1)f[c]=$e(Ve(l,g,c));return{c(){e=v("table"),t=v("thead"),s=v("tr");for(let c=0;c<n.length;c+=1)n[c].c();a=w(),o=v("tbody");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=k(c,"TABLE",{class:!0});var m=T(e);t=k(m,"THEAD",{});var h=T(t);s=k(h,"TR",{});var C=T(s);for(let b=0;b<n.length;b+=1)n[b].l(C);C.forEach(d),h.forEach(d),a=D(m),o=k(m,"TBODY",{});var N=T(o);for(let b=0;b<f.length;b+=1)f[b].l(N);N.forEach(d),m.forEach(d),this.h()},h(){E(e,"class","list svelte-1uj74mp")},m(c,m){M(c,e,m),p(e,t),p(t,s);for(let h=0;h<n.length;h+=1)n[h].m(s,null);p(e,a),p(e,o);for(let h=0;h<f.length;h+=1)f[h].m(o,null)},p(c,m){if(m&14&&(r=c[1],n=_e(n,m,u,1,c,r,i,s,Ee,Se,null,we)),m&19){g=c[0];let h;for(h=0;h<g.length;h+=1){const C=Ve(c,g,h);f[h]?f[h].p(C,m):(f[h]=$e(C),f[h].c(),f[h].m(o,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=g.length}},d(c){c&&d(e);for(let m=0;m<n.length;m+=1)n[m].d();de(f,c)}}}function Ae(l){let e,t,s,n,i,a,o,r;function u(){return l[5](l[11])}function g(){return l[6](l[11])}return{c(){e=v("div"),t=v("div"),s=K("←"),n=w(),i=v("div"),a=K("→"),this.h()},l(f){e=k(f,"DIV",{class:!0});var c=T(e);t=k(c,"DIV",{class:!0});var m=T(t);s=j(m,"←"),m.forEach(d),n=D(c),i=k(c,"DIV",{class:!0});var h=T(i);a=j(h,"→"),h.forEach(d),c.forEach(d),this.h()},h(){E(t,"class","move-arrow svelte-1uj74mp"),fe(t,"disabled",!l[3].canMoveColumnLeft(l[11])),E(i,"class","move-arrow svelte-1uj74mp"),fe(i,"disabled",!l[3].canMoveColumnRight(l[11])),E(e,"class","config-container svelte-1uj74mp")},m(f,c){M(f,e,c),p(e,t),p(t,s),p(e,n),p(e,i),p(i,a),o||(r=[q(t,"click",u),q(i,"click",g)],o=!0)},p(f,c){l=f,c&10&&fe(t,"disabled",!l[3].canMoveColumnLeft(l[11])),c&10&&fe(i,"disabled",!l[3].canMoveColumnRight(l[11]))},d(f){f&&d(e),o=!1,oe(r)}}}function Se(l,e){let t,s,n,i=e[11].displayName+"",a,o,r=e[2]&&Ae(e);return{key:l,first:null,c(){t=v("th"),r&&r.c(),s=w(),n=v("strong"),a=K(i),o=w(),this.h()},l(u){t=k(u,"TH",{class:!0});var g=T(t);r&&r.l(g),s=D(g),n=k(g,"STRONG",{});var f=T(n);a=j(f,i),f.forEach(d),o=D(g),g.forEach(d),this.h()},h(){E(t,"class","c svelte-1uj74mp"),this.first=t},m(u,g){M(u,t,g),r&&r.m(t,null),p(t,s),p(t,n),p(n,a),p(t,o)},p(u,g){e=u,e[2]?r?r.p(e,g):(r=Ae(e),r.c(),r.m(t,s)):r&&(r.d(1),r=null),g&2&&i!==(i=e[11].displayName+"")&&Z(a,i)},d(u){u&&d(t),r&&r.d()}}}function Oe(l,e){let t,s=e[4](e[8],e[11])+"",n;return{key:l,first:null,c(){t=v("td"),n=K(s),this.h()},l(i){t=k(i,"TD",{});var a=T(t);n=j(a,s),a.forEach(d),this.h()},h(){this.first=t},m(i,a){M(i,t,a),p(t,n)},p(i,a){e=i,a&3&&s!==(s=e[4](e[8],e[11])+"")&&Z(n,s)},d(i){i&&d(t)}}}function $e(l){let e,t=[],s=new it,n,i=l[1];const a=o=>o[11].index;for(let o=0;o<i.length;o+=1){let r=Me(l,i,o),u=a(r);s.set(u,t[o]=Oe(u,r))}return{c(){e=v("tr");for(let o=0;o<t.length;o+=1)t[o].c();n=w(),this.h()},l(o){e=k(o,"TR",{class:!0});var r=T(e);for(let u=0;u<t.length;u+=1)t[u].l(r);n=D(r),r.forEach(d),this.h()},h(){E(e,"class",l[10]%2===0?"alt2":"alt1")},m(o,r){M(o,e,r);for(let u=0;u<t.length;u+=1)t[u].m(e,null);p(e,n)},p(o,r){r&19&&(i=o[1],t=_e(t,r,a,1,o,i,s,e,Ee,Oe,n,Me))},d(o){o&&d(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function pt(l){let e,t=l[0].length&&De(l);return{c(){t&&t.c(),e=he()},l(s){t&&t.l(s),e=he()},m(s,n){t&&t.m(s,n),M(s,e,n)},p(s,[n]){s[0].length?t?t.p(s,n):(t=De(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(s){t&&t.d(s),s&&d(e)}}}function _t(l,e,t){let{logItems:s=[]}=e;const n=ge.instance,i=new Map(Y.filter(f=>typeof f.getDisplayValue=="function").map(f=>[f.logItemKey,f.getDisplayValue]));let a,o=!1;ee.subscribe(({isEditMode:f})=>{t(1,a=n.getVisibleColumns()),t(2,o=f)});function r(f,c){return i.has(c.logItemKey)?i.get(c.logItemKey)(f):`${f[c.logItemKey]}`}const u=f=>n.moveColumnLeft(f),g=f=>n.moveColumnRight(f);return l.$$set=f=>{"logItems"in f&&t(0,s=f.logItems)},[s,a,o,n,r,u,g]}class gt extends te{constructor(e){super(),le(this,e,_t,pt,se,{logItems:0})}}class Te{constructor(e){O(this,"channel");O(this,"connection");O(this,"exchange");O(this,"node");O(this,"payload");O(this,"properties");O(this,"queue");O(this,"routed_queues");O(this,"routing_keys");O(this,"timestamp");O(this,"type");O(this,"user");O(this,"vhost");O(this,"delivery_mode");Object.assign(this,e)}static fromJson(e){const t=new Te(JSON.parse(e));return t.timestamp=new Date(t.timestamp),t.delivery_mode=t.properties.delivery_mode,t.payload=window.atob(t.payload),t}}var $=(l=>(l[l.IsEqual=0]="IsEqual",l[l.IsNotEqual=1]="IsNotEqual",l[l.Includes=2]="Includes",l[l.DoesNotInclude=3]="DoesNotInclude",l[l.StartsWith=4]="StartsWith",l[l.EndsWith=5]="EndsWith",l[l.Greater=6]="Greater",l[l.GreaterOrEqual=7]="GreaterOrEqual",l[l.Less=8]="Less",l[l.LessOrEqual=9]="LessOrEqual",l[l.After=10]="After",l[l.Before=11]="Before",l))($||{});const qe=new Map([[0,"is equal"],[1,"is not equal"],[2,"includes"],[3,"doesn't include"],[4,"starts with"],[5,"ends with"],[6,"is greater"],[7,"is greater or equal"],[8,"is less"],[9,"is less or equal"],[10,"is after"],[11,"is before"]]),bt=new Map([[$.IsEqual,(l,e)=>l===e],[$.IsNotEqual,(l,e)=>l!==e],[$.StartsWith,(l,e)=>l==null?void 0:l.startsWith(e)],[$.EndsWith,(l,e)=>l==null?void 0:l.endsWith(e)],[$.Includes,(l,e)=>l==null?void 0:l.includes(e)],[$.DoesNotInclude,(l,e)=>!(l!=null&&l.includes(e))]]),yt=new Map([[$.IsEqual,(l,e)=>l.some(t=>t===e)],[$.IsNotEqual,(l,e)=>l.some(t=>t!==e)],[$.StartsWith,(l,e)=>l.some(t=>t==null?void 0:t.startsWith(e))],[$.EndsWith,(l,e)=>l.some(t=>t==null?void 0:t.endsWith(e))],[$.Includes,(l,e)=>l.some(t=>t==null?void 0:t.includes(e))],[$.DoesNotInclude,(l,e)=>l.some(t=>!(t!=null&&t.includes(e)))]]),vt=new Map([[$.IsEqual,(l,e)=>l===e],[$.IsNotEqual,(l,e)=>l!==e],[$.Greater,(l,e)=>l>e],[$.GreaterOrEqual,(l,e)=>l>=e],[$.Less,(l,e)=>l<e],[$.LessOrEqual,(l,e)=>l<=e]]),kt=new Map([[$.After,(l,e)=>l>=e],[$.Before,(l,e)=>l<=e]]),Et=new Map([[A.Text,bt],[A.TextArray,yt],[A.Number,vt],[A.DateTime,kt]]);let Ke=class ot{constructor(e){O(this,"id");O(this,"targetValue");O(this,"config");O(this,"operatorsMap");O(this,"operators");O(this,"operator");this.id=e||It()}get targetDate(){return this.targetValue.toISOString().split("T")[0]}set targetDate(e){const t=this.targetValue,s=startOfDay(new Date(e));s.setHours(t.getHours(),t.getMinutes(),0,0),this.targetValue=s}get targetTime(){return this.targetValue.toISOString().split("T")[1].split(".")[0]}set targetTime(e){const[t,s]=e.split(":").map(n=>parseInt(n));this.targetValue.setHours(t,s,0,0)}configure(e,t){if(this.config=e,this.operatorsMap=Et.get(this.config.type),this.operators=Array.from(this.operatorsMap.keys()),this.operator=this.operators[0],this.config.type===A.DateTime)this.targetValue=t?new Date(t):new Date;else if(this.config.type===A.Number)this.targetValue=t?parseFloat(t):0;else if(this.config.type===A.Text||this.config.type===A.TextArray)this.targetValue=t||"";else throw new Error(`Not implemented type ${this.config.type}`)}filter(e){const t=e[this.config.logItemKey];return this.operatorsMap.get(this.operator)(t,this.targetValue)}static fromObjects(e){return e.map(t=>{const s=new ot(t.id),n=Y.find(i=>i.logItemKey===t.config.logItemKey);return s.configure(n,t.targetValue),s})}};function It(){return Date.now()+"-"+Math.floor(Math.pow(10,12)+Math.random()*9*Math.pow(10,12)).toString(36)}function je(l,e,t){const s=l.slice();return s[12]=e[t],s}function Ue(l,e,t){const s=l.slice();return s[15]=e[t],s}function Fe(l){let e,t=l[15].displayName+"",s,n;return{c(){e=v("option"),s=K(t),n=w(),this.h()},l(i){e=k(i,"OPTION",{});var a=T(e);s=j(a,t),n=D(a),a.forEach(d),this.h()},h(){e.__value=l[15],e.value=e.__value},m(i,a){M(i,e,a),p(e,s),p(e,n)},p:X,d(i){i&&d(e)}}}function Be(l){let e,t=qe.get(l[12])+"",s,n,i;return{c(){e=v("option"),s=K(t),n=w(),this.h()},l(a){e=k(a,"OPTION",{});var o=T(e);s=j(o,t),n=D(o),o.forEach(d),this.h()},h(){e.__value=i=l[12],e.value=e.__value},m(a,o){M(a,e,o),p(e,s),p(e,n)},p(a,o){o&1&&t!==(t=qe.get(a[12])+"")&&Z(s,t),o&1&&i!==(i=a[12])&&(e.__value=i,e.value=e.__value)},d(a){a&&d(e)}}}function Tt(l){let e,t,s,n,i;return{c(){e=v("input"),t=w(),s=v("input"),this.h()},l(a){e=k(a,"INPUT",{type:!0,class:!0}),t=D(a),s=k(a,"INPUT",{type:!0,class:!0}),this.h()},h(){E(e,"type","date"),E(e,"class","svelte-17ir4hc"),E(s,"type","time"),E(s,"class","svelte-17ir4hc")},m(a,o){M(a,e,o),Q(e,l[0].targetDate),M(a,t,o),M(a,s,o),Q(s,l[0].targetTime),n||(i=[q(e,"input",l[9]),q(s,"input",l[10])],n=!0)},p(a,o){o&1&&Q(e,a[0].targetDate),o&1&&Q(s,a[0].targetTime)},d(a){a&&d(e),a&&d(t),a&&d(s),n=!1,oe(i)}}}function Nt(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){E(e,"type","number"),E(e,"class","svelte-17ir4hc")},m(n,i){M(n,e,i),Q(e,l[0].targetValue),t||(s=q(e,"input",l[8]),t=!0)},p(n,i){i&1&&lt(e.value)!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function Ct(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){E(e,"type","text"),E(e,"class","svelte-17ir4hc")},m(n,i){M(n,e,i),Q(e,l[0].targetValue),t||(s=q(e,"input",l[7]),t=!0)},p(n,i){i&1&&e.value!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function Vt(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){E(e,"type","text"),E(e,"class","svelte-17ir4hc")},m(n,i){M(n,e,i),Q(e,l[0].targetValue),t||(s=q(e,"input",l[6]),t=!0)},p(n,i){i&1&&e.value!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function Mt(l){let e,t,s,n,i,a,o,r,u,g,f=Y,c=[];for(let _=0;_<f.length;_+=1)c[_]=Fe(Ue(l,f,_));let m=l[0].operators,h=[];for(let _=0;_<m.length;_+=1)h[_]=Be(je(l,m,_));function C(_,I){if(_[0].config.type===A.Text)return Vt;if(_[0].config.type===A.TextArray)return Ct;if(_[0].config.type===A.Number)return Nt;if(_[0].config.type===A.DateTime)return Tt}let N=C(l),b=N&&N(l);return{c(){e=v("div"),t=v("div"),s=K("x"),n=w(),i=v("select");for(let _=0;_<c.length;_+=1)c[_].c();a=w(),o=v("select");for(let _=0;_<h.length;_+=1)h[_].c();r=w(),b&&b.c(),this.h()},l(_){e=k(_,"DIV",{class:!0});var I=T(e);t=k(I,"DIV",{class:!0});var y=T(t);s=j(y,"x"),y.forEach(d),n=D(I),i=k(I,"SELECT",{class:!0});var L=T(i);for(let J=0;J<c.length;J+=1)c[J].l(L);L.forEach(d),a=D(I),o=k(I,"SELECT",{class:!0});var ne=T(o);for(let J=0;J<h.length;J+=1)h[J].l(ne);ne.forEach(d),r=D(I),b&&b.l(I),I.forEach(d),this.h()},h(){E(t,"class","btn-remove svelte-17ir4hc"),E(i,"class","field-display-name svelte-17ir4hc"),l[1]===void 0&&ve(()=>l[4].call(i)),E(o,"class","svelte-17ir4hc"),l[0].operator===void 0&&ve(()=>l[5].call(o)),E(e,"class","container svelte-17ir4hc")},m(_,I){M(_,e,I),p(e,t),p(t,s),p(e,n),p(e,i);for(let y=0;y<c.length;y+=1)c[y].m(i,null);x(i,l[1]),p(e,a),p(e,o);for(let y=0;y<h.length;y+=1)h[y].m(o,null);x(o,l[0].operator),p(e,r),b&&b.m(e,null),u||(g=[q(t,"click",l[3]),q(i,"change",l[4]),q(i,"change",l[2]),q(o,"change",l[5])],u=!0)},p(_,[I]){if(I&0){f=Y;let y;for(y=0;y<f.length;y+=1){const L=Ue(_,f,y);c[y]?c[y].p(L,I):(c[y]=Fe(L),c[y].c(),c[y].m(i,null))}for(;y<c.length;y+=1)c[y].d(1);c.length=f.length}if(I&2&&x(i,_[1]),I&1){m=_[0].operators;let y;for(y=0;y<m.length;y+=1){const L=je(_,m,y);h[y]?h[y].p(L,I):(h[y]=Be(L),h[y].c(),h[y].m(o,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=m.length}I&1&&x(o,_[0].operator),N===(N=C(_))&&b?b.p(_,I):(b&&b.d(1),b=N&&N(_),b&&(b.c(),b.m(e,null)))},i:X,o:X,d(_){_&&d(e),de(c,_),de(h,_),b&&b.d(),u=!1,oe(g)}}}function wt(l,e,t){const s=tt();let{field:n}=e,i;Ie(async()=>{t(1,i=n.config)});function a(){n.configure(i),t(0,n)}function o(){s("remove",n)}function r(){i=ke(this),t(1,i)}function u(){n.operator=ke(this),t(0,n)}function g(){n.targetValue=this.value,t(0,n)}function f(){n.targetValue=this.value,t(0,n)}function c(){n.targetValue=lt(this.value),t(0,n)}function m(){n.targetDate=this.value,t(0,n)}function h(){n.targetTime=this.value,t(0,n)}return l.$$set=C=>{"field"in C&&t(0,n=C.field)},[n,i,a,o,r,u,g,f,c,m,h]}class Dt extends te{constructor(e){super(),le(this,e,wt,Mt,se,{field:0})}}function Re(l,e,t){const s=l.slice();return s[10]=e[t],s}function ze(l){let e,t,s,n;return{c(){e=v("button"),t=K("Apply"),this.h()},l(i){e=k(i,"BUTTON",{type:!0,class:!0});var a=T(e);t=j(a,"Apply"),a.forEach(d),this.h()},h(){E(e,"type","button"),E(e,"class","btn-secondary")},m(i,a){M(i,e,a),p(e,t),s||(n=q(e,"click",l[5]),s=!0)},p:X,d(i){i&&d(e),s=!1,n()}}}function We(l){let e,t,s,n;return{c(){e=v("button"),t=K("Reset"),this.h()},l(i){e=k(i,"BUTTON",{type:!0,class:!0});var a=T(e);t=j(a,"Reset"),a.forEach(d),this.h()},h(){E(e,"type","button"),E(e,"class","btn-secondary")},m(i,a){M(i,e,a),p(e,t),s||(n=q(e,"click",l[6]),s=!0)},p:X,d(i){i&&d(e),s=!1,n()}}}function Le(l){let e,t=[],s=new Map,n,i=l[2];const a=o=>o[10].id;for(let o=0;o<i.length;o+=1){let r=Re(l,i,o),u=a(r);s.set(u,t[o]=Pe(u,r))}return{c(){e=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=k(o,"DIV",{class:!0});var r=T(e);for(let u=0;u<t.length;u+=1)t[u].l(r);r.forEach(d),this.h()},h(){E(e,"class","conditions svelte-187dxfa")},m(o,r){M(o,e,r);for(let u=0;u<t.length;u+=1)t[u].m(e,null);n=!0},p(o,r){r&20&&(i=o[2],me(),t=_e(t,r,a,1,o,i,s,e,ht,Pe,null,Re),pe())},i(o){if(!n){for(let r=0;r<i.length;r+=1)G(t[r]);n=!0}},o(o){for(let r=0;r<t.length;r+=1)H(t[r]);n=!1},d(o){o&&d(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Pe(l,e){let t,s,n;return s=new Dt({props:{field:e[10]}}),s.$on("remove",e[4]),{key:l,first:null,c(){t=he(),ae(s.$$.fragment),this.h()},l(i){t=he(),re(s.$$.fragment,i),this.h()},h(){this.first=t},m(i,a){M(i,t,a),ue(s,i,a),n=!0},p(i,a){e=i;const o={};a&4&&(o.field=e[10]),s.$set(o)},i(i){n||(G(s.$$.fragment,i),n=!0)},o(i){H(s.$$.fragment,i),n=!1},d(i){i&&d(t),ce(s,i)}}}function At(l){let e,t,s,n,i,a,o,r,u,g,f,c,m,h=l[0]&&l[2].length>0&&ze(l),C=l[1]&&We(l),N=l[2].length>0&&Le(l);return{c(){e=v("div"),t=v("div"),s=v("strong"),n=K("Filter Conditions:"),i=w(),a=v("button"),o=K("Add"),r=w(),h&&h.c(),u=w(),C&&C.c(),g=w(),N&&N.c(),this.h()},l(b){e=k(b,"DIV",{class:!0});var _=T(e);t=k(_,"DIV",{class:!0});var I=T(t);s=k(I,"STRONG",{});var y=T(s);n=j(y,"Filter Conditions:"),y.forEach(d),i=D(I),a=k(I,"BUTTON",{type:!0,class:!0});var L=T(a);o=j(L,"Add"),L.forEach(d),r=D(I),h&&h.l(I),u=D(I),C&&C.l(I),I.forEach(d),g=D(_),N&&N.l(_),_.forEach(d),this.h()},h(){E(a,"type","button"),E(a,"class","btn-secondary"),E(t,"class","actions svelte-187dxfa"),E(e,"class","container svelte-187dxfa")},m(b,_){M(b,e,_),p(e,t),p(t,s),p(s,n),p(t,i),p(t,a),p(a,o),p(t,r),h&&h.m(t,null),p(t,u),C&&C.m(t,null),p(e,g),N&&N.m(e,null),f=!0,c||(m=q(a,"click",l[3]),c=!0)},p(b,[_]){b[0]&&b[2].length>0?h?h.p(b,_):(h=ze(b),h.c(),h.m(t,u)):h&&(h.d(1),h=null),b[1]?C?C.p(b,_):(C=We(b),C.c(),C.m(t,null)):C&&(C.d(1),C=null),b[2].length>0?N?(N.p(b,_),_&4&&G(N,1)):(N=Le(b),N.c(),G(N,1),N.m(e,null)):N&&(me(),H(N,1,1,()=>{N=null}),pe())},i(b){f||(G(N),f=!0)},o(b){H(N),f=!1},d(b){b&&d(e),h&&h.d(),C&&C.d(),N&&N.d(),c=!1,m()}}}const Ge="logFilter";function St(l,e,t){const s=tt();let{canApplyFilter:n=!1}=e,{isFilterApplied:i=!1}=e,a=[];Ie(()=>{c()});function o(){const m=Y.find(C=>!a.some(N=>N.config.logItemKey===C.logItemKey))||Y[0],h=new Ke;h.configure(m),t(2,a=[...a,h]),f()}function r({detail:m}){t(2,a=a.filter(h=>h.id!==m.id)),f()}function u(){f(),s("applyFilter",a)}function g(){s("resetFilter")}function f(){const m=JSON.stringify(a);localStorage.setItem(Ge,m)}function c(){var m=localStorage.getItem(Ge);if(!m)return;const h=JSON.parse(m);t(2,a=Ke.fromObjects(h))}return l.$$set=m=>{"canApplyFilter"in m&&t(0,n=m.canApplyFilter),"isFilterApplied"in m&&t(1,i=m.isFilterApplied)},[n,i,a,o,r,u,g]}class Ot extends te{constructor(e){super(),le(this,e,St,At,se,{canApplyFilter:0,isFilterApplied:1})}}function Je(l,e,t){const s=l.slice();return s[4]=e[t],s[5]=e,s[6]=t,s}function He(l,e){let t,s,n,i=e[4].displayName+"",a,o,r,u;function g(){return e[2](e[4])}function f(){e[3].call(s,e[5],e[6])}return{key:l,first:null,c(){t=v("label"),s=v("input"),n=w(),a=K(i),o=w(),this.h()},l(c){t=k(c,"LABEL",{class:!0});var m=T(t);s=k(m,"INPUT",{type:!0,class:!0}),n=D(m),a=j(m,i),o=D(m),m.forEach(d),this.h()},h(){E(s,"type","checkbox"),E(s,"class","checkbox svelte-uxer4g"),E(t,"class","column-visibility-label svelte-uxer4g"),this.first=t},m(c,m){M(c,t,m),p(t,s),s.checked=e[4].isVisible,p(t,n),p(t,a),p(t,o),r||(u=[q(s,"change",g),q(s,"change",f)],r=!0)},p(c,m){e=c,m&1&&(s.checked=e[4].isVisible),m&1&&i!==(i=e[4].displayName+"")&&Z(a,i)},d(c){c&&d(t),r=!1,oe(u)}}}function $t(l){let e,t,s,n,i=[],a=new Map,o=l[0];const r=u=>u[4].index;for(let u=0;u<o.length;u+=1){let g=Je(l,o,u),f=r(g);a.set(f,i[u]=He(f,g))}return{c(){e=v("div"),t=v("strong"),s=K("Columns Visibility:"),n=w();for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=k(u,"DIV",{class:!0});var g=T(e);t=k(g,"STRONG",{});var f=T(t);s=j(f,"Columns Visibility:"),f.forEach(d),n=D(g);for(let c=0;c<i.length;c+=1)i[c].l(g);g.forEach(d),this.h()},h(){E(e,"class","container svelte-uxer4g")},m(u,g){M(u,e,g),p(e,t),p(t,s),p(e,n);for(let f=0;f<i.length;f+=1)i[f].m(e,null)},p(u,[g]){g&3&&(o=u[0],i=_e(i,g,r,1,u,o,a,e,Ee,He,null,Je))},i:X,o:X,d(u){u&&d(e);for(let g=0;g<i.length;g+=1)i[g].d()}}}function qt(l,e,t){const s=ge.instance;let n;ee.subscribe(({columns:o})=>{t(0,n=o)});const i=o=>s.toggleColumnVisibility(o);function a(o,r){o[r].isVisible=this.checked,t(0,n)}return[n,s,i,a]}class Kt extends te{constructor(e){super(),le(this,e,qt,$t,se,{})}}function Qe(l,e,t){const s=l.slice();return s[6]=e[t],s}function Xe(l){let e,t=l[6].name+"",s,n,i;return{c(){e=v("option"),s=K(t),n=w(),this.h()},l(a){e=k(a,"OPTION",{});var o=T(e);s=j(o,t),n=D(o),o.forEach(d),this.h()},h(){e.__value=i=l[6],e.value=e.__value},m(a,o){M(a,e,o),p(e,s),p(e,n)},p(a,o){o&1&&t!==(t=a[6].name+"")&&Z(s,t),o&1&&i!==(i=a[6])&&(e.__value=i,e.value=e.__value)},d(a){a&&d(e)}}}function Ye(l){let e,t=l[3]?"Complete":"",s,n,i,a;return{c(){e=v("button"),s=K(t),n=K(" Edit Filter"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var r=T(e);s=j(r,t),n=j(r," Edit Filter"),r.forEach(d),this.h()},h(){E(e,"type","button"),E(e,"class","btn-secondary")},m(o,r){M(o,e,r),p(e,s),p(e,n),i||(a=q(e,"click",l[13]),i=!0)},p(o,r){r&8&&t!==(t=o[3]?"Complete":"")&&Z(s,t)},d(o){o&&d(e),i=!1,a()}}}function Ze(l){let e,t=l[4]?"Complete":"",s,n,i,a;return{c(){e=v("button"),s=K(t),n=K(" Edit Columns"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var r=T(e);s=j(r,t),n=j(r," Edit Columns"),r.forEach(d),this.h()},h(){E(e,"type","button"),E(e,"class","btn-secondary")},m(o,r){M(o,e,r),p(e,s),p(e,n),i||(a=q(e,"click",l[10]),i=!0)},p(o,r){r&16&&t!==(t=o[4]?"Complete":"")&&Z(s,t)},d(o){o&&d(e),i=!1,a()}}}function xe(l){let e,t,s;return t=new Ot({props:{isFilterApplied:l[2],canApplyFilter:l[5]}}),t.$on("applyFilter",l[8]),t.$on("resetFilter",l[9]),{c(){e=v("div"),ae(t.$$.fragment)},l(n){e=k(n,"DIV",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){M(n,e,i),ue(t,e,null),s=!0},p(n,i){const a={};i&4&&(a.isFilterApplied=n[2]),i&32&&(a.canApplyFilter=n[5]),t.$set(a)},i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ce(t)}}}function et(l){let e,t,s;return t=new Kt({}),{c(){e=v("div"),ae(t.$$.fragment)},l(n){e=k(n,"DIV",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){M(n,e,i),ue(t,e,null),s=!0},i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ce(t)}}}function jt(l){let e,t,s,n,i,a,o,r,u,g,f,c,m,h,C,N,b,_,I,y,L,ne,J=l[0],R=[];for(let V=0;V<J.length;V+=1)R[V]=Xe(Qe(l,J,V));let z=l[5]&&Ye(l),W=l[5]&&Ze(l),U=l[3]&&xe(l),F=l[4]&&et();return I=new gt({props:{logItems:l[1]}}),{c(){e=v("div"),t=v("div"),s=v("button"),n=K("Update Files List"),i=w(),a=v("label"),o=K("File:"),r=w(),u=v("select");for(let V=0;V<R.length;V+=1)R[V].c();g=w(),f=v("button"),c=K("Load Logs"),h=w(),z&&z.c(),C=w(),W&&W.c(),N=w(),U&&U.c(),b=w(),F&&F.c(),_=w(),ae(I.$$.fragment),this.h()},l(V){e=k(V,"DIV",{class:!0});var S=T(e);t=k(S,"DIV",{class:!0});var B=T(t);s=k(B,"BUTTON",{type:!0,class:!0});var P=T(s);n=j(P,"Update Files List"),P.forEach(d),i=D(B),a=k(B,"LABEL",{for:!0});var ie=T(a);o=j(ie,"File:"),ie.forEach(d),r=D(B),u=k(B,"SELECT",{id:!0});var Ne=T(u);for(let be=0;be<R.length;be+=1)R[be].l(Ne);Ne.forEach(d),g=D(B),f=k(B,"BUTTON",{type:!0});var Ce=T(f);c=j(Ce,"Load Logs"),Ce.forEach(d),h=D(B),z&&z.l(B),C=D(B),W&&W.l(B),B.forEach(d),N=D(S),U&&U.l(S),b=D(S),F&&F.l(S),_=D(S),re(I.$$.fragment,S),S.forEach(d),this.h()},h(){E(s,"type","button"),E(s,"class","btn-secondary"),E(a,"for","fileName"),E(u,"id","fileName"),l[6]===void 0&&ve(()=>l[12].call(u)),f.disabled=m=!l[6],E(f,"type","button"),E(t,"class","controls svelte-42l0ca"),E(e,"class","tracing-ui-root svelte-42l0ca")},m(V,S){M(V,e,S),p(e,t),p(t,s),p(s,n),p(t,i),p(t,a),p(a,o),p(t,r),p(t,u);for(let B=0;B<R.length;B+=1)R[B].m(u,null);x(u,l[6]),p(t,g),p(t,f),p(f,c),p(t,h),z&&z.m(t,null),p(t,C),W&&W.m(t,null),p(e,N),U&&U.m(e,null),p(e,b),F&&F.m(e,null),p(e,_),ue(I,e,null),y=!0,L||(ne=[q(s,"click",rt),q(u,"change",l[12]),q(f,"click",l[7])],L=!0)},p(V,[S]){if(S&1){J=V[0];let P;for(P=0;P<J.length;P+=1){const ie=Qe(V,J,P);R[P]?R[P].p(ie,S):(R[P]=Xe(ie),R[P].c(),R[P].m(u,null))}for(;P<R.length;P+=1)R[P].d(1);R.length=J.length}S&65&&x(u,V[6]),(!y||S&65&&m!==(m=!V[6]))&&(f.disabled=m),V[5]?z?z.p(V,S):(z=Ye(V),z.c(),z.m(t,C)):z&&(z.d(1),z=null),V[5]?W?W.p(V,S):(W=Ze(V),W.c(),W.m(t,null)):W&&(W.d(1),W=null),V[3]?U?(U.p(V,S),S&8&&G(U,1)):(U=xe(V),U.c(),G(U,1),U.m(e,b)):U&&(me(),H(U,1,1,()=>{U=null}),pe()),V[4]?F?S&16&&G(F,1):(F=et(),F.c(),G(F,1),F.m(e,_)):F&&(me(),H(F,1,1,()=>{F=null}),pe());const B={};S&2&&(B.logItems=V[1]),I.$set(B)},i(V){y||(G(U),G(F),G(I.$$.fragment,V),y=!0)},o(V){H(U),H(F),H(I.$$.fragment,V),y=!1},d(V){V&&d(e),de(R,V),z&&z.d(),W&&W.d(),U&&U.d(),F&&F.d(),ce(I),L=!1,oe(ne)}}}const at="api/trace-files";async function rt(){const e=await(await fetch(at)).text();return JSON.parse(e)}function Ut(l,e,t){let s,n=[],i,a=[],o=[],r=!1,u=!1,g=!1;Ie(async()=>{t(0,n=await rt())}),ee.subscribe(({isEditMode:b})=>{t(4,g=b)});async function f(){const b=`${at}/${encodeURIComponent(i.name)}`,I=await(await fetch(b)).text();t(11,a=I.split(`
`).filter(Boolean).map(Te.fromJson)),m()}function c({detail:b}){t(2,r=!0),t(1,o=a.filter(_=>b.every(I=>I.filter(_))))}function m(){t(2,r=!1),t(1,o=a.slice())}function h(){ee.update(b=>({...b,isEditMode:!b.isEditMode}))}function C(){i=ke(this),t(6,i),t(0,n)}const N=()=>t(3,u=!u);return l.$$.update=()=>{l.$$.dirty&2048&&t(5,s=a.length>0)},[n,o,r,u,g,s,i,f,c,m,h,a,C,N]}class Ft extends te{constructor(e){super(),le(this,e,Ut,jt,se,{})}}function Bt(l){let e,t,s;return t=new Ft({}),{c(){e=v("section"),ae(t.$$.fragment)},l(n){e=k(n,"SECTION",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){M(n,e,i),ue(t,e,null),s=!0},p:X,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ce(t)}}}class Lt extends te{constructor(e){super(),le(this,e,null,Bt,se,{})}}export{Lt as default};
