var rt=Object.defineProperty;var at=(l,e,t)=>e in l?rt(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var q=(l,e,t)=>(at(l,typeof e!="symbol"?e+"":e,t),t);import{S as te,i as le,s as se,e as fe,b as D,H as X,h as d,k as v,a as w,l as k,m as T,c as S,n as I,G as _,J as pe,K as he,q as $,r as F,u as Z,L as ct,M as ke,N as ue,O as U,P as ie,Q as ye,R as x,T as et,o as Ie,U as ve,V as tt,W as Q,g as G,v as de,d as H,f as me,X as ut,y as oe,z as re,A as ae,B as ce}from"../chunks/index.9614888c.js";import{w as ft}from"../chunks/index.66e03b77.js";var M=(l=>(l[l.Text=0]="Text",l[l.TextArray=1]="TextArray",l[l.Number=2]="Number",l[l.DateTime=3]="DateTime",l))(M||{});const Y=[Object.freeze({type:M.DateTime,displayName:"Date & Time",logItemKey:"timestamp",getDisplayValue:l=>ht(l.timestamp)}),Object.freeze({type:M.Number,displayName:"Channel",logItemKey:"channel"}),Object.freeze({type:M.Text,displayName:"Connection",logItemKey:"connection"}),Object.freeze({type:M.Text,displayName:"Exchange",logItemKey:"exchange"}),Object.freeze({type:M.Text,displayName:"Node",logItemKey:"node"}),Object.freeze({type:M.Text,displayName:"Payload",logItemKey:"payload",getDisplayValue:l=>dt(l.payload)}),Object.freeze({type:M.Text,displayName:"Queue",logItemKey:"queue"}),Object.freeze({type:M.TextArray,displayName:"Routed Queues",logItemKey:"routed_queues"}),Object.freeze({type:M.TextArray,displayName:"Routing Keys",logItemKey:"routing_keys"}),Object.freeze({type:M.Text,displayName:"Type",logItemKey:"type"}),Object.freeze({type:M.Text,displayName:"User",logItemKey:"user"}),Object.freeze({type:M.Text,displayName:"Vhost",logItemKey:"vhost"}),Object.freeze({type:M.Number,displayName:"Delivery Mode",logItemKey:"delivery_mode"})];function ht(l){const e=l.toLocaleDateString(),t=l.toLocaleTimeString();return`${e} ${t}`}function dt(l){return`<pre>${l}</pre>`}const lt="logItemColumnList",ee=ft({isEditMode:!1,columns:[]});let be;class _e{constructor(e){this.columns=e,ee.update(t=>({...t,columns:this.columns}))}toggleColumnVisibility(e){e.isVisible=!e.isVisible;const t=this.columns.some(s=>s.isVisible)?void 0:!1;this.saveColumnsAndUpdateStore(t)}moveColumnLeft(e){this.moveColumn(e,!1)}moveColumnRight(e){this.moveColumn(e,!0)}canMoveColumnLeft(e){const t=this.getVisibleColumns();return e.index>Math.min(...t.map(s=>s.index))}canMoveColumnRight(e){const t=this.getVisibleColumns();return e.index<Math.max(...t.map(s=>s.index))}getVisibleColumns(){return this.columns.filter(e=>e.isVisible)}moveColumn(e,t){if(t&&!this.canMoveColumnRight(e)||!t&&!this.canMoveColumnLeft(e))return;const s=this.getVisibleColumns(),n=e.index,i=t?s.find(r=>r.index>n):s.reverse().find(r=>r.index<n);e.index=i.index,i.index=n,this.columns=st(this.columns),this.saveColumnsAndUpdateStore()}saveColumnsAndUpdateStore(e){this.save(),ee.update(t=>({columns:this.columns,isEditMode:e===void 0?t.isEditMode:e}))}save(){const e=JSON.stringify(this.columns);localStorage.setItem(lt,e)}static get instance(){if(!be){const e=mt();be=new _e(e)}return be}}function mt(){let l;const e=typeof localStorage<"u"?localStorage.getItem(lt):void 0;return e?l=JSON.parse(e):l=Y.map(({displayName:t,logItemKey:s},n)=>({displayName:t,logItemKey:s,isVisible:!0,index:n})),st(l)}function st(l){return l.sort((e,t)=>e.index-t.index)}const{Map:nt}=ct;function Ne(l,e,t){const s=l.slice();return s[8]=e[t],s[10]=t,s}function Ce(l,e,t){const s=l.slice();return s[11]=e[t],s}function Ve(l,e,t){const s=l.slice();return s[11]=e[t],s}function De(l){let e,t,s,n=[],i=new nt,r,o,a=l[1];const f=c=>c[11].index;for(let c=0;c<a.length;c+=1){let p=Ve(l,a,c),h=f(p);i.set(h,n[c]=Se(h,p))}let g=l[0],u=[];for(let c=0;c<g.length;c+=1)u[c]=Ae(Ne(l,g,c));return{c(){e=v("table"),t=v("thead"),s=v("tr");for(let c=0;c<n.length;c+=1)n[c].c();r=w(),o=v("tbody");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=k(c,"TABLE",{class:!0});var p=T(e);t=k(p,"THEAD",{});var h=T(t);s=k(h,"TR",{});var C=T(s);for(let b=0;b<n.length;b+=1)n[b].l(C);C.forEach(d),h.forEach(d),r=S(p),o=k(p,"TBODY",{});var E=T(o);for(let b=0;b<u.length;b+=1)u[b].l(E);E.forEach(d),p.forEach(d),this.h()},h(){I(e,"class","list svelte-1uj74mp")},m(c,p){D(c,e,p),_(e,t),_(t,s);for(let h=0;h<n.length;h+=1)n[h].m(s,null);_(e,r),_(e,o);for(let h=0;h<u.length;h+=1)u[h].m(o,null)},p(c,p){if(p&14&&(a=c[1],n=pe(n,p,f,1,c,a,i,s,ke,Se,null,Ve)),p&19){g=c[0];let h;for(h=0;h<g.length;h+=1){const C=Ne(c,g,h);u[h]?u[h].p(C,p):(u[h]=Ae(C),u[h].c(),u[h].m(o,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=g.length}},d(c){c&&d(e);for(let p=0;p<n.length;p+=1)n[p].d();he(u,c)}}}function we(l){let e,t,s,n,i,r,o,a;function f(){return l[5](l[11])}function g(){return l[6](l[11])}return{c(){e=v("div"),t=v("div"),s=$("←"),n=w(),i=v("div"),r=$("→"),this.h()},l(u){e=k(u,"DIV",{class:!0});var c=T(e);t=k(c,"DIV",{class:!0});var p=T(t);s=F(p,"←"),p.forEach(d),n=S(c),i=k(c,"DIV",{class:!0});var h=T(i);r=F(h,"→"),h.forEach(d),c.forEach(d),this.h()},h(){I(t,"class","move-arrow svelte-1uj74mp"),ue(t,"disabled",!l[3].canMoveColumnLeft(l[11])),I(i,"class","move-arrow svelte-1uj74mp"),ue(i,"disabled",!l[3].canMoveColumnRight(l[11])),I(e,"class","config-container svelte-1uj74mp")},m(u,c){D(u,e,c),_(e,t),_(t,s),_(e,n),_(e,i),_(i,r),o||(a=[U(t,"click",f),U(i,"click",g)],o=!0)},p(u,c){l=u,c&10&&ue(t,"disabled",!l[3].canMoveColumnLeft(l[11])),c&10&&ue(i,"disabled",!l[3].canMoveColumnRight(l[11]))},d(u){u&&d(e),o=!1,ie(a)}}}function Se(l,e){let t,s,n,i=e[11].displayName+"",r,o,a=e[2]&&we(e);return{key:l,first:null,c(){t=v("th"),a&&a.c(),s=w(),n=v("strong"),r=$(i),o=w(),this.h()},l(f){t=k(f,"TH",{class:!0});var g=T(t);a&&a.l(g),s=S(g),n=k(g,"STRONG",{});var u=T(n);r=F(u,i),u.forEach(d),o=S(g),g.forEach(d),this.h()},h(){I(t,"class","c svelte-1uj74mp"),this.first=t},m(f,g){D(f,t,g),a&&a.m(t,null),_(t,s),_(t,n),_(n,r),_(t,o)},p(f,g){e=f,e[2]?a?a.p(e,g):(a=we(e),a.c(),a.m(t,s)):a&&(a.d(1),a=null),g&2&&i!==(i=e[11].displayName+"")&&Z(r,i)},d(f){f&&d(t),a&&a.d()}}}function Me(l,e){let t,s=e[4](e[8],e[11])+"";return{key:l,first:null,c(){t=v("td"),this.h()},l(n){t=k(n,"TD",{});var i=T(t);i.forEach(d),this.h()},h(){this.first=t},m(n,i){D(n,t,i),t.innerHTML=s},p(n,i){e=n,i&3&&s!==(s=e[4](e[8],e[11])+"")&&(t.innerHTML=s)},d(n){n&&d(t)}}}function Ae(l){let e,t=[],s=new nt,n,i=l[1];const r=o=>o[11].index;for(let o=0;o<i.length;o+=1){let a=Ce(l,i,o),f=r(a);s.set(f,t[o]=Me(f,a))}return{c(){e=v("tr");for(let o=0;o<t.length;o+=1)t[o].c();n=w(),this.h()},l(o){e=k(o,"TR",{class:!0});var a=T(e);for(let f=0;f<t.length;f+=1)t[f].l(a);n=S(a),a.forEach(d),this.h()},h(){I(e,"class",l[10]%2===0?"alt2":"alt1")},m(o,a){D(o,e,a);for(let f=0;f<t.length;f+=1)t[f].m(e,null);_(e,n)},p(o,a){a&19&&(i=o[1],t=pe(t,a,r,1,o,i,s,e,ke,Me,n,Ce))},d(o){o&&d(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function pt(l){let e,t=l[0].length&&De(l);return{c(){t&&t.c(),e=fe()},l(s){t&&t.l(s),e=fe()},m(s,n){t&&t.m(s,n),D(s,e,n)},p(s,[n]){s[0].length?t?t.p(s,n):(t=De(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(s){t&&t.d(s),s&&d(e)}}}function _t(l,e,t){let{logItems:s=[]}=e;const n=_e.instance,i=new Map(Y.filter(u=>typeof u.getDisplayValue=="function").map(u=>[u.logItemKey,u.getDisplayValue]));let r,o=!1;ee.subscribe(({isEditMode:u})=>{t(1,r=n.getVisibleColumns()),t(2,o=u)});function a(u,c){return i.has(c.logItemKey)?i.get(c.logItemKey)(u):`${u[c.logItemKey]}`}const f=u=>n.moveColumnLeft(u),g=u=>n.moveColumnRight(u);return l.$$set=u=>{"logItems"in u&&t(0,s=u.logItems)},[s,r,o,n,a,f,g]}class gt extends te{constructor(e){super(),le(this,e,_t,pt,se,{logItems:0})}}class Ee{constructor(e){q(this,"channel");q(this,"connection");q(this,"exchange");q(this,"node");q(this,"payload");q(this,"properties");q(this,"queue");q(this,"routed_queues");q(this,"routing_keys");q(this,"timestamp");q(this,"type");q(this,"user");q(this,"vhost");q(this,"delivery_mode");Object.assign(this,e)}static fromJson(e){const t=new Ee(JSON.parse(e));return t.timestamp=new Date(t.timestamp),t.delivery_mode=t.properties.delivery_mode,t.payload=yt(bt(t.payload)),t}}function bt(l){const e=window.atob(l).split("").map(n=>n.charCodeAt(0)),t=Uint8Array.from(e);return new TextDecoder().decode(t)}function yt(l){try{const e=JSON.parse(l);return JSON.stringify(e,null,2)}catch{return l}}var K=(l=>(l[l.IsEqual=0]="IsEqual",l[l.IsNotEqual=1]="IsNotEqual",l[l.Includes=2]="Includes",l[l.DoesNotInclude=3]="DoesNotInclude",l[l.StartsWith=4]="StartsWith",l[l.EndsWith=5]="EndsWith",l[l.Greater=6]="Greater",l[l.GreaterOrEqual=7]="GreaterOrEqual",l[l.Less=8]="Less",l[l.LessOrEqual=9]="LessOrEqual",l[l.After=10]="After",l[l.Before=11]="Before",l))(K||{});const Oe=new Map([[0,"is equal"],[1,"is not equal"],[2,"includes"],[3,"doesn't include"],[4,"starts with"],[5,"ends with"],[6,"is greater"],[7,"is greater or equal"],[8,"is less"],[9,"is less or equal"],[10,"is after"],[11,"is before"]]),vt=new Map([[K.IsEqual,(l,e)=>l===e],[K.IsNotEqual,(l,e)=>l!==e],[K.StartsWith,(l,e)=>l==null?void 0:l.startsWith(e)],[K.EndsWith,(l,e)=>l==null?void 0:l.endsWith(e)],[K.Includes,(l,e)=>l==null?void 0:l.includes(e)],[K.DoesNotInclude,(l,e)=>!(l!=null&&l.includes(e))]]),kt=new Map([[K.IsEqual,(l,e)=>l.some(t=>t===e)],[K.IsNotEqual,(l,e)=>l.some(t=>t!==e)],[K.StartsWith,(l,e)=>l.some(t=>t==null?void 0:t.startsWith(e))],[K.EndsWith,(l,e)=>l.some(t=>t==null?void 0:t.endsWith(e))],[K.Includes,(l,e)=>l.some(t=>t==null?void 0:t.includes(e))],[K.DoesNotInclude,(l,e)=>l.some(t=>!(t!=null&&t.includes(e)))]]),It=new Map([[K.IsEqual,(l,e)=>l===e],[K.IsNotEqual,(l,e)=>l!==e],[K.Greater,(l,e)=>l>e],[K.GreaterOrEqual,(l,e)=>l>=e],[K.Less,(l,e)=>l<e],[K.LessOrEqual,(l,e)=>l<=e]]),Et=new Map([[K.After,(l,e)=>l>=e],[K.Before,(l,e)=>l<=e]]),Tt=new Map([[M.Text,vt],[M.TextArray,kt],[M.Number,It],[M.DateTime,Et]]);let qe=class it{constructor(e){q(this,"id");q(this,"targetValue");q(this,"config");q(this,"operatorsMap");q(this,"operators");q(this,"operator");this.id=e||Nt()}get targetDate(){const e=this.targetValue,t=e.getTimezoneOffset();return new Date(e.getTime()-t*60*1e3).toISOString().split("T")[0]}set targetDate(e){const t=this.targetTime;this.targetValue=new Date(e),this.targetTime=t}get targetTime(){const e=this.targetValue,t=e.getTimezoneOffset();return new Date(e.getTime()-t*60*1e3).toISOString().split("T")[1].split(".")[0]}set targetTime(e){const[t,s]=e.split(":").map(n=>parseInt(n));this.targetValue.setHours(t,s,0,0)}configure(e,t,s){if(this.config=e,this.operatorsMap=Tt.get(this.config.type),this.operators=Array.from(this.operatorsMap.keys()),this.operator=s||this.operators[0],this.config.type===M.DateTime)this.targetValue=t?new Date(t):new Date;else if(this.config.type===M.Number)this.targetValue=t?parseFloat(t):0;else if(this.config.type===M.Text||this.config.type===M.TextArray)this.targetValue=t||"";else throw new Error(`Not implemented type ${this.config.type}`)}filter(e){const t=e[this.config.logItemKey];return this.operatorsMap.get(this.operator)(t,this.targetValue)}static fromObjects(e){return e.map(t=>{const s=new it(t.id),n=Y.find(i=>i.logItemKey===t.config.logItemKey);return s.configure(n,t.targetValue,t.operator),s})}};function Nt(){return Date.now()+"-"+Math.floor(Math.pow(10,12)+Math.random()*9*Math.pow(10,12)).toString(36)}function Ke(l,e,t){const s=l.slice();return s[12]=e[t],s}function je(l,e,t){const s=l.slice();return s[15]=e[t],s}function Ue(l){let e,t=l[15].displayName+"",s,n;return{c(){e=v("option"),s=$(t),n=w(),this.h()},l(i){e=k(i,"OPTION",{});var r=T(e);s=F(r,t),n=S(r),r.forEach(d),this.h()},h(){e.__value=l[15],e.value=e.__value},m(i,r){D(i,e,r),_(e,s),_(e,n)},p:X,d(i){i&&d(e)}}}function $e(l){let e,t=Oe.get(l[12])+"",s,n,i;return{c(){e=v("option"),s=$(t),n=w(),this.h()},l(r){e=k(r,"OPTION",{});var o=T(e);s=F(o,t),n=S(o),o.forEach(d),this.h()},h(){e.__value=i=l[12],e.value=e.__value},m(r,o){D(r,e,o),_(e,s),_(e,n)},p(r,o){o&1&&t!==(t=Oe.get(r[12])+"")&&Z(s,t),o&1&&i!==(i=r[12])&&(e.__value=i,e.value=e.__value)},d(r){r&&d(e)}}}function Ct(l){let e,t,s,n,i;return{c(){e=v("input"),t=w(),s=v("input"),this.h()},l(r){e=k(r,"INPUT",{type:!0,class:!0}),t=S(r),s=k(r,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","date"),I(e,"class","svelte-17ir4hc"),I(s,"type","time"),I(s,"class","svelte-17ir4hc")},m(r,o){D(r,e,o),Q(e,l[0].targetDate),D(r,t,o),D(r,s,o),Q(s,l[0].targetTime),n||(i=[U(e,"input",l[9]),U(s,"input",l[10])],n=!0)},p(r,o){o&1&&Q(e,r[0].targetDate),o&1&&Q(s,r[0].targetTime)},d(r){r&&d(e),r&&d(t),r&&d(s),n=!1,ie(i)}}}function Vt(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","number"),I(e,"class","svelte-17ir4hc")},m(n,i){D(n,e,i),Q(e,l[0].targetValue),t||(s=U(e,"input",l[8]),t=!0)},p(n,i){i&1&&tt(e.value)!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function Dt(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","text"),I(e,"class","svelte-17ir4hc")},m(n,i){D(n,e,i),Q(e,l[0].targetValue),t||(s=U(e,"input",l[7]),t=!0)},p(n,i){i&1&&e.value!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function wt(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","text"),I(e,"class","svelte-17ir4hc")},m(n,i){D(n,e,i),Q(e,l[0].targetValue),t||(s=U(e,"input",l[6]),t=!0)},p(n,i){i&1&&e.value!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function St(l){let e,t,s,n,i,r,o,a,f,g,u=Y,c=[];for(let m=0;m<u.length;m+=1)c[m]=Ue(je(l,u,m));let p=l[0].operators,h=[];for(let m=0;m<p.length;m+=1)h[m]=$e(Ke(l,p,m));function C(m,V){if(m[0].config.type===M.Text)return wt;if(m[0].config.type===M.TextArray)return Dt;if(m[0].config.type===M.Number)return Vt;if(m[0].config.type===M.DateTime)return Ct}let E=C(l),b=E&&E(l);return{c(){e=v("div"),t=v("div"),s=$("x"),n=w(),i=v("select");for(let m=0;m<c.length;m+=1)c[m].c();r=w(),o=v("select");for(let m=0;m<h.length;m+=1)h[m].c();a=w(),b&&b.c(),this.h()},l(m){e=k(m,"DIV",{class:!0});var V=T(e);t=k(V,"DIV",{class:!0});var y=T(t);s=F(y,"x"),y.forEach(d),n=S(V),i=k(V,"SELECT",{class:!0});var z=T(i);for(let A=0;A<c.length;A+=1)c[A].l(z);z.forEach(d),r=S(V),o=k(V,"SELECT",{class:!0});var B=T(o);for(let A=0;A<h.length;A+=1)h[A].l(B);B.forEach(d),a=S(V),b&&b.l(V),V.forEach(d),this.h()},h(){I(t,"class","btn-remove svelte-17ir4hc"),I(i,"class","field-display-name svelte-17ir4hc"),l[1]===void 0&&ye(()=>l[4].call(i)),I(o,"class","svelte-17ir4hc"),l[0].operator===void 0&&ye(()=>l[5].call(o)),I(e,"class","container svelte-17ir4hc")},m(m,V){D(m,e,V),_(e,t),_(t,s),_(e,n),_(e,i);for(let y=0;y<c.length;y+=1)c[y].m(i,null);x(i,l[1]),_(e,r),_(e,o);for(let y=0;y<h.length;y+=1)h[y].m(o,null);x(o,l[0].operator),_(e,a),b&&b.m(e,null),f||(g=[U(t,"click",l[3]),U(i,"change",l[4]),U(i,"change",l[2]),U(o,"change",l[5])],f=!0)},p(m,[V]){if(V&0){u=Y;let y;for(y=0;y<u.length;y+=1){const z=je(m,u,y);c[y]?c[y].p(z,V):(c[y]=Ue(z),c[y].c(),c[y].m(i,null))}for(;y<c.length;y+=1)c[y].d(1);c.length=u.length}if(V&2&&x(i,m[1]),V&1){p=m[0].operators;let y;for(y=0;y<p.length;y+=1){const z=Ke(m,p,y);h[y]?h[y].p(z,V):(h[y]=$e(z),h[y].c(),h[y].m(o,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=p.length}V&1&&x(o,m[0].operator),E===(E=C(m))&&b?b.p(m,V):(b&&b.d(1),b=E&&E(m),b&&(b.c(),b.m(e,null)))},i:X,o:X,d(m){m&&d(e),he(c,m),he(h,m),b&&b.d(),f=!1,ie(g)}}}function Mt(l,e,t){const s=et();let{field:n}=e,i;Ie(async()=>{t(1,i=n.config)});function r(){n.configure(i),t(0,n)}function o(){s("remove",n)}function a(){i=ve(this),t(1,i)}function f(){n.operator=ve(this),t(0,n)}function g(){n.targetValue=this.value,t(0,n)}function u(){n.targetValue=this.value,t(0,n)}function c(){n.targetValue=tt(this.value),t(0,n)}function p(){n.targetDate=this.value,t(0,n)}function h(){n.targetTime=this.value,t(0,n)}return l.$$set=C=>{"field"in C&&t(0,n=C.field)},[n,i,r,o,a,f,g,u,c,p,h]}class At extends te{constructor(e){super(),le(this,e,Mt,St,se,{field:0})}}function Fe(l,e,t){const s=l.slice();return s[10]=e[t],s}function ze(l){let e,t,s,n;return{c(){e=v("button"),t=$("Apply"),this.h()},l(i){e=k(i,"BUTTON",{type:!0,class:!0});var r=T(e);t=F(r,"Apply"),r.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(i,r){D(i,e,r),_(e,t),s||(n=U(e,"click",l[5]),s=!0)},p:X,d(i){i&&d(e),s=!1,n()}}}function Be(l){let e,t,s,n;return{c(){e=v("button"),t=$("Reset"),this.h()},l(i){e=k(i,"BUTTON",{type:!0,class:!0});var r=T(e);t=F(r,"Reset"),r.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(i,r){D(i,e,r),_(e,t),s||(n=U(e,"click",l[6]),s=!0)},p:X,d(i){i&&d(e),s=!1,n()}}}function Re(l){let e,t=[],s=new Map,n,i=l[2];const r=o=>o[10].id;for(let o=0;o<i.length;o+=1){let a=Fe(l,i,o),f=r(a);s.set(f,t[o]=Je(f,a))}return{c(){e=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=k(o,"DIV",{class:!0});var a=T(e);for(let f=0;f<t.length;f+=1)t[f].l(a);a.forEach(d),this.h()},h(){I(e,"class","conditions svelte-187dxfa")},m(o,a){D(o,e,a);for(let f=0;f<t.length;f+=1)t[f].m(e,null);n=!0},p(o,a){a&20&&(i=o[2],de(),t=pe(t,a,r,1,o,i,s,e,ut,Je,null,Fe),me())},i(o){if(!n){for(let a=0;a<i.length;a+=1)G(t[a]);n=!0}},o(o){for(let a=0;a<t.length;a+=1)H(t[a]);n=!1},d(o){o&&d(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Je(l,e){let t,s,n;return s=new At({props:{field:e[10]}}),s.$on("remove",e[4]),{key:l,first:null,c(){t=fe(),oe(s.$$.fragment),this.h()},l(i){t=fe(),re(s.$$.fragment,i),this.h()},h(){this.first=t},m(i,r){D(i,t,r),ae(s,i,r),n=!0},p(i,r){e=i;const o={};r&4&&(o.field=e[10]),s.$set(o)},i(i){n||(G(s.$$.fragment,i),n=!0)},o(i){H(s.$$.fragment,i),n=!1},d(i){i&&d(t),ce(s,i)}}}function Ot(l){let e,t,s,n,i,r,o,a,f,g,u,c,p,h=l[0]&&l[2].length>0&&ze(l),C=l[1]&&Be(l),E=l[2].length>0&&Re(l);return{c(){e=v("div"),t=v("div"),s=v("strong"),n=$("Filter Conditions:"),i=w(),r=v("button"),o=$("Add"),a=w(),h&&h.c(),f=w(),C&&C.c(),g=w(),E&&E.c(),this.h()},l(b){e=k(b,"DIV",{class:!0});var m=T(e);t=k(m,"DIV",{class:!0});var V=T(t);s=k(V,"STRONG",{});var y=T(s);n=F(y,"Filter Conditions:"),y.forEach(d),i=S(V),r=k(V,"BUTTON",{type:!0,class:!0});var z=T(r);o=F(z,"Add"),z.forEach(d),a=S(V),h&&h.l(V),f=S(V),C&&C.l(V),V.forEach(d),g=S(m),E&&E.l(m),m.forEach(d),this.h()},h(){I(r,"type","button"),I(r,"class","btn-secondary"),I(t,"class","actions svelte-187dxfa"),I(e,"class","container svelte-187dxfa")},m(b,m){D(b,e,m),_(e,t),_(t,s),_(s,n),_(t,i),_(t,r),_(r,o),_(t,a),h&&h.m(t,null),_(t,f),C&&C.m(t,null),_(e,g),E&&E.m(e,null),u=!0,c||(p=U(r,"click",l[3]),c=!0)},p(b,[m]){b[0]&&b[2].length>0?h?h.p(b,m):(h=ze(b),h.c(),h.m(t,f)):h&&(h.d(1),h=null),b[1]?C?C.p(b,m):(C=Be(b),C.c(),C.m(t,null)):C&&(C.d(1),C=null),b[2].length>0?E?(E.p(b,m),m&4&&G(E,1)):(E=Re(b),E.c(),G(E,1),E.m(e,null)):E&&(de(),H(E,1,1,()=>{E=null}),me())},i(b){u||(G(E),u=!0)},o(b){H(E),u=!1},d(b){b&&d(e),h&&h.d(),C&&C.d(),E&&E.d(),c=!1,p()}}}const Pe="logFilter";function qt(l,e,t){const s=et();let{canApplyFilter:n=!1}=e,{isFilterApplied:i=!1}=e,r=[];Ie(()=>{c()});function o(){const p=Y.find(C=>!r.some(E=>E.config.logItemKey===C.logItemKey))||Y[0],h=new qe;h.configure(p),t(2,r=[...r,h]),u()}function a({detail:p}){t(2,r=r.filter(h=>h.id!==p.id)),u()}function f(){u(),s("applyFilter",r)}function g(){s("resetFilter")}function u(){const p=JSON.stringify(r);localStorage.setItem(Pe,p)}function c(){var p=localStorage.getItem(Pe);if(!p)return;const h=JSON.parse(p);t(2,r=qe.fromObjects(h))}return l.$$set=p=>{"canApplyFilter"in p&&t(0,n=p.canApplyFilter),"isFilterApplied"in p&&t(1,i=p.isFilterApplied)},[n,i,r,o,a,f,g]}class Kt extends te{constructor(e){super(),le(this,e,qt,Ot,se,{canApplyFilter:0,isFilterApplied:1})}}function We(l,e,t){const s=l.slice();return s[4]=e[t],s[5]=e,s[6]=t,s}function Le(l,e){let t,s,n,i=e[4].displayName+"",r,o,a,f;function g(){return e[2](e[4])}function u(){e[3].call(s,e[5],e[6])}return{key:l,first:null,c(){t=v("label"),s=v("input"),n=w(),r=$(i),o=w(),this.h()},l(c){t=k(c,"LABEL",{class:!0});var p=T(t);s=k(p,"INPUT",{type:!0,class:!0}),n=S(p),r=F(p,i),o=S(p),p.forEach(d),this.h()},h(){I(s,"type","checkbox"),I(s,"class","checkbox svelte-10x9425"),I(t,"class","column-visibility-label svelte-10x9425"),this.first=t},m(c,p){D(c,t,p),_(t,s),s.checked=e[4].isVisible,_(t,n),_(t,r),_(t,o),a||(f=[U(s,"change",g),U(s,"change",u)],a=!0)},p(c,p){e=c,p&1&&(s.checked=e[4].isVisible),p&1&&i!==(i=e[4].displayName+"")&&Z(r,i)},d(c){c&&d(t),a=!1,ie(f)}}}function jt(l){let e,t,s,n,i=[],r=new Map,o=l[0];const a=f=>f[4].index;for(let f=0;f<o.length;f+=1){let g=We(l,o,f),u=a(g);r.set(u,i[f]=Le(u,g))}return{c(){e=v("div"),t=v("strong"),s=$("Columns Visibility:"),n=w();for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){e=k(f,"DIV",{class:!0});var g=T(e);t=k(g,"STRONG",{});var u=T(t);s=F(u,"Columns Visibility:"),u.forEach(d),n=S(g);for(let c=0;c<i.length;c+=1)i[c].l(g);g.forEach(d),this.h()},h(){I(e,"class","container svelte-10x9425")},m(f,g){D(f,e,g),_(e,t),_(t,s),_(e,n);for(let u=0;u<i.length;u+=1)i[u].m(e,null)},p(f,[g]){g&3&&(o=f[0],i=pe(i,g,a,1,f,o,r,e,ke,Le,null,We))},i:X,o:X,d(f){f&&d(e);for(let g=0;g<i.length;g+=1)i[g].d()}}}function Ut(l,e,t){const s=_e.instance;let n;ee.subscribe(({columns:o})=>{t(0,n=o)});const i=o=>s.toggleColumnVisibility(o);function r(o,a){o[a].isVisible=this.checked,t(0,n)}return[n,s,i,r]}class $t extends te{constructor(e){super(),le(this,e,Ut,jt,se,{})}}function Ge(l,e,t){const s=l.slice();return s[7]=e[t],s}function He(l){let e,t=l[7].name+"",s,n,i;return{c(){e=v("option"),s=$(t),n=w(),this.h()},l(r){e=k(r,"OPTION",{});var o=T(e);s=F(o,t),n=S(o),o.forEach(d),this.h()},h(){e.__value=i=l[7],e.value=e.__value},m(r,o){D(r,e,o),_(e,s),_(e,n)},p(r,o){o&1&&t!==(t=r[7].name+"")&&Z(s,t),o&1&&i!==(i=r[7])&&(e.__value=i,e.value=e.__value)},d(r){r&&d(e)}}}function Qe(l){let e,t=l[3]?"Hide":"Show",s,n,i,r;return{c(){e=v("button"),s=$(t),n=$(" Filter"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var a=T(e);s=F(a,t),n=F(a," Filter"),a.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(o,a){D(o,e,a),_(e,s),_(e,n),i||(r=U(e,"click",l[14]),i=!0)},p(o,a){a&8&&t!==(t=o[3]?"Hide":"Show")&&Z(s,t)},d(o){o&&d(e),i=!1,r()}}}function Xe(l){let e,t=l[4]?"Hide":"Show",s,n,i,r;return{c(){e=v("button"),s=$(t),n=$(" Columns Config"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var a=T(e);s=F(a,t),n=F(a," Columns Config"),a.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(o,a){D(o,e,a),_(e,s),_(e,n),i||(r=U(e,"click",l[11]),i=!0)},p(o,a){a&16&&t!==(t=o[4]?"Hide":"Show")&&Z(s,t)},d(o){o&&d(e),i=!1,r()}}}function Ye(l){let e,t;return{c(){e=v("div"),t=$(l[5]),this.h()},l(s){e=k(s,"DIV",{class:!0});var n=T(e);t=F(n,l[5]),n.forEach(d),this.h()},h(){I(e,"class","error svelte-n3m35p")},m(s,n){D(s,e,n),_(e,t)},p(s,n){n&32&&Z(t,s[5])},d(s){s&&d(e)}}}function Ze(l){let e,t,s;return t=new Kt({props:{isFilterApplied:l[2],canApplyFilter:l[6]}}),t.$on("applyFilter",l[9]),t.$on("resetFilter",l[10]),{c(){e=v("div"),oe(t.$$.fragment)},l(n){e=k(n,"DIV",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){D(n,e,i),ae(t,e,null),s=!0},p(n,i){const r={};i&4&&(r.isFilterApplied=n[2]),i&64&&(r.canApplyFilter=n[6]),t.$set(r)},i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ce(t)}}}function xe(l){let e,t,s;return t=new $t({}),{c(){e=v("div"),oe(t.$$.fragment)},l(n){e=k(n,"DIV",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){D(n,e,i),ae(t,e,null),s=!0},i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ce(t)}}}function Ft(l){let e,t,s,n,i,r,o,a,f,g,u,c,p,h,C,E,b,m,V,y,z=l[0],B=[];for(let N=0;N<z.length;N+=1)B[N]=He(Ge(l,z,N));let A=l[6]&&Qe(l),P=l[6]&&Xe(l),W=l[5].length&&Ye(l),j=l[3]&&Ze(l),R=l[4]&&xe();return b=new gt({props:{logItems:l[1]}}),{c(){e=v("div"),t=v("div"),s=v("label"),n=$("File:"),i=w(),r=v("select");for(let N=0;N<B.length;N+=1)B[N].c();o=w(),a=v("button"),f=$("Load File"),u=w(),A&&A.c(),c=w(),P&&P.c(),p=w(),W&&W.c(),h=w(),j&&j.c(),C=w(),R&&R.c(),E=w(),oe(b.$$.fragment),this.h()},l(N){e=k(N,"DIV",{class:!0});var O=T(e);t=k(O,"DIV",{class:!0});var J=T(t);s=k(J,"LABEL",{for:!0});var L=T(s);n=F(L,"File:"),L.forEach(d),i=S(J),r=k(J,"SELECT",{id:!0});var ne=T(r);for(let ge=0;ge<B.length;ge+=1)B[ge].l(ne);ne.forEach(d),o=S(J),a=k(J,"BUTTON",{type:!0});var Te=T(a);f=F(Te,"Load File"),Te.forEach(d),u=S(J),A&&A.l(J),c=S(J),P&&P.l(J),J.forEach(d),p=S(O),W&&W.l(O),h=S(O),j&&j.l(O),C=S(O),R&&R.l(O),E=S(O),re(b.$$.fragment,O),O.forEach(d),this.h()},h(){I(s,"for","fileName"),I(r,"id","fileName"),l[7]===void 0&&ye(()=>l[13].call(r)),a.disabled=g=!l[7],I(a,"type","button"),I(t,"class","controls svelte-n3m35p"),I(e,"class","tracing-ui-root svelte-n3m35p")},m(N,O){D(N,e,O),_(e,t),_(t,s),_(s,n),_(t,i),_(t,r);for(let J=0;J<B.length;J+=1)B[J].m(r,null);x(r,l[7]),_(t,o),_(t,a),_(a,f),_(t,u),A&&A.m(t,null),_(t,c),P&&P.m(t,null),_(e,p),W&&W.m(e,null),_(e,h),j&&j.m(e,null),_(e,C),R&&R.m(e,null),_(e,E),ae(b,e,null),m=!0,V||(y=[U(r,"change",l[13]),U(a,"click",l[8])],V=!0)},p(N,[O]){if(O&1){z=N[0];let L;for(L=0;L<z.length;L+=1){const ne=Ge(N,z,L);B[L]?B[L].p(ne,O):(B[L]=He(ne),B[L].c(),B[L].m(r,null))}for(;L<B.length;L+=1)B[L].d(1);B.length=z.length}O&129&&x(r,N[7]),(!m||O&129&&g!==(g=!N[7]))&&(a.disabled=g),N[6]?A?A.p(N,O):(A=Qe(N),A.c(),A.m(t,c)):A&&(A.d(1),A=null),N[6]?P?P.p(N,O):(P=Xe(N),P.c(),P.m(t,null)):P&&(P.d(1),P=null),N[5].length?W?W.p(N,O):(W=Ye(N),W.c(),W.m(e,h)):W&&(W.d(1),W=null),N[3]?j?(j.p(N,O),O&8&&G(j,1)):(j=Ze(N),j.c(),G(j,1),j.m(e,C)):j&&(de(),H(j,1,1,()=>{j=null}),me()),N[4]?R?O&16&&G(R,1):(R=xe(),R.c(),G(R,1),R.m(e,E)):R&&(de(),H(R,1,1,()=>{R=null}),me());const J={};O&2&&(J.logItems=N[1]),b.$set(J)},i(N){m||(G(j),G(R),G(b.$$.fragment,N),m=!0)},o(N){H(j),H(R),H(b.$$.fragment,N),m=!1},d(N){N&&d(e),he(B,N),A&&A.d(),P&&P.d(),W&&W.d(),j&&j.d(),R&&R.d(),ce(b),V=!1,ie(y)}}}const ot="api/trace-files";async function zt(){const e=await(await fetch(ot)).text();return JSON.parse(e)}function Bt(l,e,t){let s,n=[],i,r=[],o=[],a=!1,f=!1,g=!1,u="";Ie(async()=>{t(0,n=await zt())}),ee.subscribe(({isEditMode:m})=>{t(4,g=m)});async function c(){t(12,r=[]),t(5,u="");const m=`${ot}/${encodeURIComponent(i.name)}`,y=await(await fetch(m)).text();try{t(12,r=y.split(`
`).filter(Boolean).map(Ee.fromJson))}catch{t(7,i=void 0),t(3,f=!1),t(4,g=!1),t(5,u="Failed to parse JSON in log file. It could be a text log file. Pick a JSON log file.")}h()}function p({detail:m}){t(2,a=!0),t(1,o=r.filter(V=>m.every(y=>y.filter(V))))}function h(){t(2,a=!1),t(1,o=r.slice())}function C(){ee.update(m=>({...m,isEditMode:!m.isEditMode}))}function E(){i=ve(this),t(7,i),t(0,n)}const b=()=>t(3,f=!f);return l.$$.update=()=>{l.$$.dirty&4096&&t(6,s=r.length>0)},[n,o,a,f,g,u,s,i,c,p,h,C,r,E,b]}class Rt extends te{constructor(e){super(),le(this,e,Bt,Ft,se,{})}}function Jt(l){let e,t,s;return t=new Rt({}),{c(){e=v("section"),oe(t.$$.fragment)},l(n){e=k(n,"SECTION",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){D(n,e,i),ae(t,e,null),s=!0},p:X,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ce(t)}}}class Gt extends te{constructor(e){super(),le(this,e,null,Jt,se,{})}}export{Gt as default};
