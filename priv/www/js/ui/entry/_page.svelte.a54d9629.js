var ct=Object.defineProperty;var ut=(l,e,t)=>e in l?ct(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var O=(l,e,t)=>(ut(l,typeof e!="symbol"?e+"":e,t),t);import{S as te,i as le,s as se,e as he,b as D,H as X,h as d,k as v,a as w,l as k,m as T,c as M,n as I,G as p,J as _e,K as de,q as K,r as j,u as Z,L as ft,M as Ie,N as fe,O as q,P as oe,Q as ve,R as x,T as tt,o as Ee,U as ke,V as lt,W as Q,g as G,v as me,d as H,f as pe,X as ht,y as ae,z as re,A as ce,B as ue}from"../chunks/index.9614888c.js";import{w as dt}from"../chunks/index.66e03b77.js";var S=(l=>(l[l.Text=0]="Text",l[l.TextArray=1]="TextArray",l[l.Number=2]="Number",l[l.DateTime=3]="DateTime",l))(S||{});const Y=[Object.freeze({type:S.DateTime,displayName:"Date & Time",logItemKey:"timestamp",getDisplayValue:l=>mt(l.timestamp)}),Object.freeze({type:S.Number,displayName:"Channel",logItemKey:"channel"}),Object.freeze({type:S.Text,displayName:"Connection",logItemKey:"connection"}),Object.freeze({type:S.Text,displayName:"Exchange",logItemKey:"exchange"}),Object.freeze({type:S.Text,displayName:"Node",logItemKey:"node"}),Object.freeze({type:S.Text,displayName:"Payload",logItemKey:"payload"}),Object.freeze({type:S.Text,displayName:"Queue",logItemKey:"queue"}),Object.freeze({type:S.TextArray,displayName:"Routed Queues",logItemKey:"routed_queues"}),Object.freeze({type:S.TextArray,displayName:"Routing Keys",logItemKey:"routing_keys"}),Object.freeze({type:S.Text,displayName:"Type",logItemKey:"type"}),Object.freeze({type:S.Text,displayName:"User",logItemKey:"user"}),Object.freeze({type:S.Text,displayName:"Vhost",logItemKey:"vhost"}),Object.freeze({type:S.Number,displayName:"Delivery Mode",logItemKey:"delivery_mode"})];function mt(l){const e=l.toLocaleDateString(),t=l.toLocaleTimeString();return`${e} ${t}`}const st="logItemColumnList",ee=dt({isEditMode:!1,columns:[]});let ye;class ge{constructor(e){this.columns=e,ee.update(t=>({...t,columns:this.columns}))}toggleColumnVisibility(e){e.isVisible=!e.isVisible;const t=this.columns.some(s=>s.isVisible)?void 0:!1;this.saveColumnsAndUpdateStore(t)}moveColumnLeft(e){this.moveColumn(e,!1)}moveColumnRight(e){this.moveColumn(e,!0)}canMoveColumnLeft(e){const t=this.getVisibleColumns();return e.index>Math.min(...t.map(s=>s.index))}canMoveColumnRight(e){const t=this.getVisibleColumns();return e.index<Math.max(...t.map(s=>s.index))}getVisibleColumns(){return this.columns.filter(e=>e.isVisible)}moveColumn(e,t){if(t&&!this.canMoveColumnRight(e)||!t&&!this.canMoveColumnLeft(e))return;const s=this.getVisibleColumns(),n=e.index,i=t?s.find(a=>a.index>n):s.reverse().find(a=>a.index<n);e.index=i.index,i.index=n,this.columns=nt(this.columns),this.saveColumnsAndUpdateStore()}saveColumnsAndUpdateStore(e){this.save(),ee.update(t=>({columns:this.columns,isEditMode:e===void 0?t.isEditMode:e}))}save(){const e=JSON.stringify(this.columns);localStorage.setItem(st,e)}static get instance(){if(!ye){const e=pt();ye=new ge(e)}return ye}}function pt(){let l;const e=typeof localStorage<"u"?localStorage.getItem(st):void 0;return e?l=JSON.parse(e):l=Y.map(({displayName:t,logItemKey:s},n)=>({displayName:t,logItemKey:s,isVisible:!0,index:n})),nt(l)}function nt(l){return l.sort((e,t)=>e.index-t.index)}const{Map:it}=ft;function Ve(l,e,t){const s=l.slice();return s[8]=e[t],s[10]=t,s}function De(l,e,t){const s=l.slice();return s[11]=e[t],s}function we(l,e,t){const s=l.slice();return s[11]=e[t],s}function Me(l){let e,t,s,n=[],i=new it,a,o,r=l[1];const c=u=>u[11].index;for(let u=0;u<r.length;u+=1){let m=we(l,r,u),h=c(m);i.set(h,n[u]=Ae(h,m))}let g=l[0],f=[];for(let u=0;u<g.length;u+=1)f[u]=$e(Ve(l,g,u));return{c(){e=v("table"),t=v("thead"),s=v("tr");for(let u=0;u<n.length;u+=1)n[u].c();a=w(),o=v("tbody");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){e=k(u,"TABLE",{class:!0});var m=T(e);t=k(m,"THEAD",{});var h=T(t);s=k(h,"TR",{});var C=T(s);for(let b=0;b<n.length;b+=1)n[b].l(C);C.forEach(d),h.forEach(d),a=M(m),o=k(m,"TBODY",{});var N=T(o);for(let b=0;b<f.length;b+=1)f[b].l(N);N.forEach(d),m.forEach(d),this.h()},h(){I(e,"class","list svelte-1uj74mp")},m(u,m){D(u,e,m),p(e,t),p(t,s);for(let h=0;h<n.length;h+=1)n[h].m(s,null);p(e,a),p(e,o);for(let h=0;h<f.length;h+=1)f[h].m(o,null)},p(u,m){if(m&14&&(r=u[1],n=_e(n,m,c,1,u,r,i,s,Ie,Ae,null,we)),m&19){g=u[0];let h;for(h=0;h<g.length;h+=1){const C=Ve(u,g,h);f[h]?f[h].p(C,m):(f[h]=$e(C),f[h].c(),f[h].m(o,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=g.length}},d(u){u&&d(e);for(let m=0;m<n.length;m+=1)n[m].d();de(f,u)}}}function Se(l){let e,t,s,n,i,a,o,r;function c(){return l[5](l[11])}function g(){return l[6](l[11])}return{c(){e=v("div"),t=v("div"),s=K("←"),n=w(),i=v("div"),a=K("→"),this.h()},l(f){e=k(f,"DIV",{class:!0});var u=T(e);t=k(u,"DIV",{class:!0});var m=T(t);s=j(m,"←"),m.forEach(d),n=M(u),i=k(u,"DIV",{class:!0});var h=T(i);a=j(h,"→"),h.forEach(d),u.forEach(d),this.h()},h(){I(t,"class","move-arrow svelte-1uj74mp"),fe(t,"disabled",!l[3].canMoveColumnLeft(l[11])),I(i,"class","move-arrow svelte-1uj74mp"),fe(i,"disabled",!l[3].canMoveColumnRight(l[11])),I(e,"class","config-container svelte-1uj74mp")},m(f,u){D(f,e,u),p(e,t),p(t,s),p(e,n),p(e,i),p(i,a),o||(r=[q(t,"click",c),q(i,"click",g)],o=!0)},p(f,u){l=f,u&10&&fe(t,"disabled",!l[3].canMoveColumnLeft(l[11])),u&10&&fe(i,"disabled",!l[3].canMoveColumnRight(l[11]))},d(f){f&&d(e),o=!1,oe(r)}}}function Ae(l,e){let t,s,n,i=e[11].displayName+"",a,o,r=e[2]&&Se(e);return{key:l,first:null,c(){t=v("th"),r&&r.c(),s=w(),n=v("strong"),a=K(i),o=w(),this.h()},l(c){t=k(c,"TH",{class:!0});var g=T(t);r&&r.l(g),s=M(g),n=k(g,"STRONG",{});var f=T(n);a=j(f,i),f.forEach(d),o=M(g),g.forEach(d),this.h()},h(){I(t,"class","c svelte-1uj74mp"),this.first=t},m(c,g){D(c,t,g),r&&r.m(t,null),p(t,s),p(t,n),p(n,a),p(t,o)},p(c,g){e=c,e[2]?r?r.p(e,g):(r=Se(e),r.c(),r.m(t,s)):r&&(r.d(1),r=null),g&2&&i!==(i=e[11].displayName+"")&&Z(a,i)},d(c){c&&d(t),r&&r.d()}}}function Oe(l,e){let t,s=e[4](e[8],e[11])+"",n;return{key:l,first:null,c(){t=v("td"),n=K(s),this.h()},l(i){t=k(i,"TD",{});var a=T(t);n=j(a,s),a.forEach(d),this.h()},h(){this.first=t},m(i,a){D(i,t,a),p(t,n)},p(i,a){e=i,a&3&&s!==(s=e[4](e[8],e[11])+"")&&Z(n,s)},d(i){i&&d(t)}}}function $e(l){let e,t=[],s=new it,n,i=l[1];const a=o=>o[11].index;for(let o=0;o<i.length;o+=1){let r=De(l,i,o),c=a(r);s.set(c,t[o]=Oe(c,r))}return{c(){e=v("tr");for(let o=0;o<t.length;o+=1)t[o].c();n=w(),this.h()},l(o){e=k(o,"TR",{class:!0});var r=T(e);for(let c=0;c<t.length;c+=1)t[c].l(r);n=M(r),r.forEach(d),this.h()},h(){I(e,"class",l[10]%2===0?"alt2":"alt1")},m(o,r){D(o,e,r);for(let c=0;c<t.length;c+=1)t[c].m(e,null);p(e,n)},p(o,r){r&19&&(i=o[1],t=_e(t,r,a,1,o,i,s,e,Ie,Oe,n,De))},d(o){o&&d(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function _t(l){let e,t=l[0].length&&Me(l);return{c(){t&&t.c(),e=he()},l(s){t&&t.l(s),e=he()},m(s,n){t&&t.m(s,n),D(s,e,n)},p(s,[n]){s[0].length?t?t.p(s,n):(t=Me(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(s){t&&t.d(s),s&&d(e)}}}function gt(l,e,t){let{logItems:s=[]}=e;const n=ge.instance,i=new Map(Y.filter(f=>typeof f.getDisplayValue=="function").map(f=>[f.logItemKey,f.getDisplayValue]));let a,o=!1;ee.subscribe(({isEditMode:f})=>{t(1,a=n.getVisibleColumns()),t(2,o=f)});function r(f,u){return i.has(u.logItemKey)?i.get(u.logItemKey)(f):`${f[u.logItemKey]}`}const c=f=>n.moveColumnLeft(f),g=f=>n.moveColumnRight(f);return l.$$set=f=>{"logItems"in f&&t(0,s=f.logItems)},[s,a,o,n,r,c,g]}class bt extends te{constructor(e){super(),le(this,e,gt,_t,se,{logItems:0})}}class Te{constructor(e){O(this,"channel");O(this,"connection");O(this,"exchange");O(this,"node");O(this,"payload");O(this,"properties");O(this,"queue");O(this,"routed_queues");O(this,"routing_keys");O(this,"timestamp");O(this,"type");O(this,"user");O(this,"vhost");O(this,"delivery_mode");Object.assign(this,e)}static fromJson(e){const t=new Te(JSON.parse(e));return t.timestamp=new Date(t.timestamp),t.delivery_mode=t.properties.delivery_mode,t.payload=window.atob(t.payload),t}}var $=(l=>(l[l.IsEqual=0]="IsEqual",l[l.IsNotEqual=1]="IsNotEqual",l[l.Includes=2]="Includes",l[l.DoesNotInclude=3]="DoesNotInclude",l[l.StartsWith=4]="StartsWith",l[l.EndsWith=5]="EndsWith",l[l.Greater=6]="Greater",l[l.GreaterOrEqual=7]="GreaterOrEqual",l[l.Less=8]="Less",l[l.LessOrEqual=9]="LessOrEqual",l[l.After=10]="After",l[l.Before=11]="Before",l))($||{});const qe=new Map([[0,"is equal"],[1,"is not equal"],[2,"includes"],[3,"doesn't include"],[4,"starts with"],[5,"ends with"],[6,"is greater"],[7,"is greater or equal"],[8,"is less"],[9,"is less or equal"],[10,"is after"],[11,"is before"]]),yt=new Map([[$.IsEqual,(l,e)=>l===e],[$.IsNotEqual,(l,e)=>l!==e],[$.StartsWith,(l,e)=>l==null?void 0:l.startsWith(e)],[$.EndsWith,(l,e)=>l==null?void 0:l.endsWith(e)],[$.Includes,(l,e)=>l==null?void 0:l.includes(e)],[$.DoesNotInclude,(l,e)=>!(l!=null&&l.includes(e))]]),vt=new Map([[$.IsEqual,(l,e)=>l.some(t=>t===e)],[$.IsNotEqual,(l,e)=>l.some(t=>t!==e)],[$.StartsWith,(l,e)=>l.some(t=>t==null?void 0:t.startsWith(e))],[$.EndsWith,(l,e)=>l.some(t=>t==null?void 0:t.endsWith(e))],[$.Includes,(l,e)=>l.some(t=>t==null?void 0:t.includes(e))],[$.DoesNotInclude,(l,e)=>l.some(t=>!(t!=null&&t.includes(e)))]]),kt=new Map([[$.IsEqual,(l,e)=>l===e],[$.IsNotEqual,(l,e)=>l!==e],[$.Greater,(l,e)=>l>e],[$.GreaterOrEqual,(l,e)=>l>=e],[$.Less,(l,e)=>l<e],[$.LessOrEqual,(l,e)=>l<=e]]),It=new Map([[$.After,(l,e)=>l>=e],[$.Before,(l,e)=>l<=e]]),Et=new Map([[S.Text,yt],[S.TextArray,vt],[S.Number,kt],[S.DateTime,It]]);let Ke=class ot{constructor(e){O(this,"id");O(this,"targetValue");O(this,"config");O(this,"operatorsMap");O(this,"operators");O(this,"operator");this.id=e||Tt()}get targetDate(){const e=this.targetValue,t=e.getTimezoneOffset();return new Date(e.getTime()-t*60*1e3).toISOString().split("T")[0]}set targetDate(e){this.targetValue=new Date(e)}get targetTime(){const e=this.targetValue,t=e.getTimezoneOffset();return new Date(e.getTime()-t*60*1e3).toISOString().split("T")[1].split(".")[0]}set targetTime(e){const[t,s]=e.split(":").map(n=>parseInt(n));this.targetValue.setHours(t,s,0,0)}configure(e,t){if(this.config=e,this.operatorsMap=Et.get(this.config.type),this.operators=Array.from(this.operatorsMap.keys()),this.operator=this.operators[0],this.config.type===S.DateTime)this.targetValue=t?new Date(t):new Date;else if(this.config.type===S.Number)this.targetValue=t?parseFloat(t):0;else if(this.config.type===S.Text||this.config.type===S.TextArray)this.targetValue=t||"";else throw new Error(`Not implemented type ${this.config.type}`)}filter(e){const t=e[this.config.logItemKey];return this.operatorsMap.get(this.operator)(t,this.targetValue)}static fromObjects(e){return e.map(t=>{const s=new ot(t.id),n=Y.find(i=>i.logItemKey===t.config.logItemKey);return s.configure(n,t.targetValue),s})}};function Tt(){return Date.now()+"-"+Math.floor(Math.pow(10,12)+Math.random()*9*Math.pow(10,12)).toString(36)}function je(l,e,t){const s=l.slice();return s[12]=e[t],s}function Ue(l,e,t){const s=l.slice();return s[15]=e[t],s}function Fe(l){let e,t=l[15].displayName+"",s,n;return{c(){e=v("option"),s=K(t),n=w(),this.h()},l(i){e=k(i,"OPTION",{});var a=T(e);s=j(a,t),n=M(a),a.forEach(d),this.h()},h(){e.__value=l[15],e.value=e.__value},m(i,a){D(i,e,a),p(e,s),p(e,n)},p:X,d(i){i&&d(e)}}}function ze(l){let e,t=qe.get(l[12])+"",s,n,i;return{c(){e=v("option"),s=K(t),n=w(),this.h()},l(a){e=k(a,"OPTION",{});var o=T(e);s=j(o,t),n=M(o),o.forEach(d),this.h()},h(){e.__value=i=l[12],e.value=e.__value},m(a,o){D(a,e,o),p(e,s),p(e,n)},p(a,o){o&1&&t!==(t=qe.get(a[12])+"")&&Z(s,t),o&1&&i!==(i=a[12])&&(e.__value=i,e.value=e.__value)},d(a){a&&d(e)}}}function Nt(l){let e,t,s,n,i;return{c(){e=v("input"),t=w(),s=v("input"),this.h()},l(a){e=k(a,"INPUT",{type:!0,class:!0}),t=M(a),s=k(a,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","date"),I(e,"class","svelte-17ir4hc"),I(s,"type","time"),I(s,"class","svelte-17ir4hc")},m(a,o){D(a,e,o),Q(e,l[0].targetDate),D(a,t,o),D(a,s,o),Q(s,l[0].targetTime),n||(i=[q(e,"input",l[9]),q(s,"input",l[10])],n=!0)},p(a,o){o&1&&Q(e,a[0].targetDate),o&1&&Q(s,a[0].targetTime)},d(a){a&&d(e),a&&d(t),a&&d(s),n=!1,oe(i)}}}function Ct(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","number"),I(e,"class","svelte-17ir4hc")},m(n,i){D(n,e,i),Q(e,l[0].targetValue),t||(s=q(e,"input",l[8]),t=!0)},p(n,i){i&1&&lt(e.value)!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function Vt(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","text"),I(e,"class","svelte-17ir4hc")},m(n,i){D(n,e,i),Q(e,l[0].targetValue),t||(s=q(e,"input",l[7]),t=!0)},p(n,i){i&1&&e.value!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function Dt(l){let e,t,s;return{c(){e=v("input"),this.h()},l(n){e=k(n,"INPUT",{type:!0,class:!0}),this.h()},h(){I(e,"type","text"),I(e,"class","svelte-17ir4hc")},m(n,i){D(n,e,i),Q(e,l[0].targetValue),t||(s=q(e,"input",l[6]),t=!0)},p(n,i){i&1&&e.value!==n[0].targetValue&&Q(e,n[0].targetValue)},d(n){n&&d(e),t=!1,s()}}}function wt(l){let e,t,s,n,i,a,o,r,c,g,f=Y,u=[];for(let _=0;_<f.length;_+=1)u[_]=Fe(Ue(l,f,_));let m=l[0].operators,h=[];for(let _=0;_<m.length;_+=1)h[_]=ze(je(l,m,_));function C(_,E){if(_[0].config.type===S.Text)return Dt;if(_[0].config.type===S.TextArray)return Vt;if(_[0].config.type===S.Number)return Ct;if(_[0].config.type===S.DateTime)return Nt}let N=C(l),b=N&&N(l);return{c(){e=v("div"),t=v("div"),s=K("x"),n=w(),i=v("select");for(let _=0;_<u.length;_+=1)u[_].c();a=w(),o=v("select");for(let _=0;_<h.length;_+=1)h[_].c();r=w(),b&&b.c(),this.h()},l(_){e=k(_,"DIV",{class:!0});var E=T(e);t=k(E,"DIV",{class:!0});var y=T(t);s=j(y,"x"),y.forEach(d),n=M(E),i=k(E,"SELECT",{class:!0});var L=T(i);for(let J=0;J<u.length;J+=1)u[J].l(L);L.forEach(d),a=M(E),o=k(E,"SELECT",{class:!0});var ne=T(o);for(let J=0;J<h.length;J+=1)h[J].l(ne);ne.forEach(d),r=M(E),b&&b.l(E),E.forEach(d),this.h()},h(){I(t,"class","btn-remove svelte-17ir4hc"),I(i,"class","field-display-name svelte-17ir4hc"),l[1]===void 0&&ve(()=>l[4].call(i)),I(o,"class","svelte-17ir4hc"),l[0].operator===void 0&&ve(()=>l[5].call(o)),I(e,"class","container svelte-17ir4hc")},m(_,E){D(_,e,E),p(e,t),p(t,s),p(e,n),p(e,i);for(let y=0;y<u.length;y+=1)u[y].m(i,null);x(i,l[1]),p(e,a),p(e,o);for(let y=0;y<h.length;y+=1)h[y].m(o,null);x(o,l[0].operator),p(e,r),b&&b.m(e,null),c||(g=[q(t,"click",l[3]),q(i,"change",l[4]),q(i,"change",l[2]),q(o,"change",l[5])],c=!0)},p(_,[E]){if(E&0){f=Y;let y;for(y=0;y<f.length;y+=1){const L=Ue(_,f,y);u[y]?u[y].p(L,E):(u[y]=Fe(L),u[y].c(),u[y].m(i,null))}for(;y<u.length;y+=1)u[y].d(1);u.length=f.length}if(E&2&&x(i,_[1]),E&1){m=_[0].operators;let y;for(y=0;y<m.length;y+=1){const L=je(_,m,y);h[y]?h[y].p(L,E):(h[y]=ze(L),h[y].c(),h[y].m(o,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=m.length}E&1&&x(o,_[0].operator),N===(N=C(_))&&b?b.p(_,E):(b&&b.d(1),b=N&&N(_),b&&(b.c(),b.m(e,null)))},i:X,o:X,d(_){_&&d(e),de(u,_),de(h,_),b&&b.d(),c=!1,oe(g)}}}function Mt(l,e,t){const s=tt();let{field:n}=e,i;Ee(async()=>{t(1,i=n.config)});function a(){n.configure(i),t(0,n)}function o(){s("remove",n)}function r(){i=ke(this),t(1,i)}function c(){n.operator=ke(this),t(0,n)}function g(){n.targetValue=this.value,t(0,n)}function f(){n.targetValue=this.value,t(0,n)}function u(){n.targetValue=lt(this.value),t(0,n)}function m(){n.targetDate=this.value,t(0,n)}function h(){n.targetTime=this.value,t(0,n)}return l.$$set=C=>{"field"in C&&t(0,n=C.field)},[n,i,a,o,r,c,g,f,u,m,h]}class St extends te{constructor(e){super(),le(this,e,Mt,wt,se,{field:0})}}function Be(l,e,t){const s=l.slice();return s[10]=e[t],s}function Re(l){let e,t,s,n;return{c(){e=v("button"),t=K("Apply"),this.h()},l(i){e=k(i,"BUTTON",{type:!0,class:!0});var a=T(e);t=j(a,"Apply"),a.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(i,a){D(i,e,a),p(e,t),s||(n=q(e,"click",l[5]),s=!0)},p:X,d(i){i&&d(e),s=!1,n()}}}function We(l){let e,t,s,n;return{c(){e=v("button"),t=K("Reset"),this.h()},l(i){e=k(i,"BUTTON",{type:!0,class:!0});var a=T(e);t=j(a,"Reset"),a.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(i,a){D(i,e,a),p(e,t),s||(n=q(e,"click",l[6]),s=!0)},p:X,d(i){i&&d(e),s=!1,n()}}}function Le(l){let e,t=[],s=new Map,n,i=l[2];const a=o=>o[10].id;for(let o=0;o<i.length;o+=1){let r=Be(l,i,o),c=a(r);s.set(c,t[o]=Pe(c,r))}return{c(){e=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=k(o,"DIV",{class:!0});var r=T(e);for(let c=0;c<t.length;c+=1)t[c].l(r);r.forEach(d),this.h()},h(){I(e,"class","conditions svelte-187dxfa")},m(o,r){D(o,e,r);for(let c=0;c<t.length;c+=1)t[c].m(e,null);n=!0},p(o,r){r&20&&(i=o[2],me(),t=_e(t,r,a,1,o,i,s,e,ht,Pe,null,Be),pe())},i(o){if(!n){for(let r=0;r<i.length;r+=1)G(t[r]);n=!0}},o(o){for(let r=0;r<t.length;r+=1)H(t[r]);n=!1},d(o){o&&d(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Pe(l,e){let t,s,n;return s=new St({props:{field:e[10]}}),s.$on("remove",e[4]),{key:l,first:null,c(){t=he(),ae(s.$$.fragment),this.h()},l(i){t=he(),re(s.$$.fragment,i),this.h()},h(){this.first=t},m(i,a){D(i,t,a),ce(s,i,a),n=!0},p(i,a){e=i;const o={};a&4&&(o.field=e[10]),s.$set(o)},i(i){n||(G(s.$$.fragment,i),n=!0)},o(i){H(s.$$.fragment,i),n=!1},d(i){i&&d(t),ue(s,i)}}}function At(l){let e,t,s,n,i,a,o,r,c,g,f,u,m,h=l[0]&&l[2].length>0&&Re(l),C=l[1]&&We(l),N=l[2].length>0&&Le(l);return{c(){e=v("div"),t=v("div"),s=v("strong"),n=K("Filter Conditions:"),i=w(),a=v("button"),o=K("Add"),r=w(),h&&h.c(),c=w(),C&&C.c(),g=w(),N&&N.c(),this.h()},l(b){e=k(b,"DIV",{class:!0});var _=T(e);t=k(_,"DIV",{class:!0});var E=T(t);s=k(E,"STRONG",{});var y=T(s);n=j(y,"Filter Conditions:"),y.forEach(d),i=M(E),a=k(E,"BUTTON",{type:!0,class:!0});var L=T(a);o=j(L,"Add"),L.forEach(d),r=M(E),h&&h.l(E),c=M(E),C&&C.l(E),E.forEach(d),g=M(_),N&&N.l(_),_.forEach(d),this.h()},h(){I(a,"type","button"),I(a,"class","btn-secondary"),I(t,"class","actions svelte-187dxfa"),I(e,"class","container svelte-187dxfa")},m(b,_){D(b,e,_),p(e,t),p(t,s),p(s,n),p(t,i),p(t,a),p(a,o),p(t,r),h&&h.m(t,null),p(t,c),C&&C.m(t,null),p(e,g),N&&N.m(e,null),f=!0,u||(m=q(a,"click",l[3]),u=!0)},p(b,[_]){b[0]&&b[2].length>0?h?h.p(b,_):(h=Re(b),h.c(),h.m(t,c)):h&&(h.d(1),h=null),b[1]?C?C.p(b,_):(C=We(b),C.c(),C.m(t,null)):C&&(C.d(1),C=null),b[2].length>0?N?(N.p(b,_),_&4&&G(N,1)):(N=Le(b),N.c(),G(N,1),N.m(e,null)):N&&(me(),H(N,1,1,()=>{N=null}),pe())},i(b){f||(G(N),f=!0)},o(b){H(N),f=!1},d(b){b&&d(e),h&&h.d(),C&&C.d(),N&&N.d(),u=!1,m()}}}const Ge="logFilter";function Ot(l,e,t){const s=tt();let{canApplyFilter:n=!1}=e,{isFilterApplied:i=!1}=e,a=[];Ee(()=>{u()});function o(){const m=Y.find(C=>!a.some(N=>N.config.logItemKey===C.logItemKey))||Y[0],h=new Ke;h.configure(m),t(2,a=[...a,h]),f()}function r({detail:m}){t(2,a=a.filter(h=>h.id!==m.id)),f()}function c(){f(),s("applyFilter",a)}function g(){s("resetFilter")}function f(){const m=JSON.stringify(a);localStorage.setItem(Ge,m)}function u(){var m=localStorage.getItem(Ge);if(!m)return;const h=JSON.parse(m);t(2,a=Ke.fromObjects(h))}return l.$$set=m=>{"canApplyFilter"in m&&t(0,n=m.canApplyFilter),"isFilterApplied"in m&&t(1,i=m.isFilterApplied)},[n,i,a,o,r,c,g]}class $t extends te{constructor(e){super(),le(this,e,Ot,At,se,{canApplyFilter:0,isFilterApplied:1})}}function Je(l,e,t){const s=l.slice();return s[4]=e[t],s[5]=e,s[6]=t,s}function He(l,e){let t,s,n,i=e[4].displayName+"",a,o,r,c;function g(){return e[2](e[4])}function f(){e[3].call(s,e[5],e[6])}return{key:l,first:null,c(){t=v("label"),s=v("input"),n=w(),a=K(i),o=w(),this.h()},l(u){t=k(u,"LABEL",{class:!0});var m=T(t);s=k(m,"INPUT",{type:!0,class:!0}),n=M(m),a=j(m,i),o=M(m),m.forEach(d),this.h()},h(){I(s,"type","checkbox"),I(s,"class","checkbox svelte-10x9425"),I(t,"class","column-visibility-label svelte-10x9425"),this.first=t},m(u,m){D(u,t,m),p(t,s),s.checked=e[4].isVisible,p(t,n),p(t,a),p(t,o),r||(c=[q(s,"change",g),q(s,"change",f)],r=!0)},p(u,m){e=u,m&1&&(s.checked=e[4].isVisible),m&1&&i!==(i=e[4].displayName+"")&&Z(a,i)},d(u){u&&d(t),r=!1,oe(c)}}}function qt(l){let e,t,s,n,i=[],a=new Map,o=l[0];const r=c=>c[4].index;for(let c=0;c<o.length;c+=1){let g=Je(l,o,c),f=r(g);a.set(f,i[c]=He(f,g))}return{c(){e=v("div"),t=v("strong"),s=K("Columns Visibility:"),n=w();for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){e=k(c,"DIV",{class:!0});var g=T(e);t=k(g,"STRONG",{});var f=T(t);s=j(f,"Columns Visibility:"),f.forEach(d),n=M(g);for(let u=0;u<i.length;u+=1)i[u].l(g);g.forEach(d),this.h()},h(){I(e,"class","container svelte-10x9425")},m(c,g){D(c,e,g),p(e,t),p(t,s),p(e,n);for(let f=0;f<i.length;f+=1)i[f].m(e,null)},p(c,[g]){g&3&&(o=c[0],i=_e(i,g,r,1,c,o,a,e,Ie,He,null,Je))},i:X,o:X,d(c){c&&d(e);for(let g=0;g<i.length;g+=1)i[g].d()}}}function Kt(l,e,t){const s=ge.instance;let n;ee.subscribe(({columns:o})=>{t(0,n=o)});const i=o=>s.toggleColumnVisibility(o);function a(o,r){o[r].isVisible=this.checked,t(0,n)}return[n,s,i,a]}class jt extends te{constructor(e){super(),le(this,e,Kt,qt,se,{})}}function Qe(l,e,t){const s=l.slice();return s[6]=e[t],s}function Xe(l){let e,t=l[6].name+"",s,n,i;return{c(){e=v("option"),s=K(t),n=w(),this.h()},l(a){e=k(a,"OPTION",{});var o=T(e);s=j(o,t),n=M(o),o.forEach(d),this.h()},h(){e.__value=i=l[6],e.value=e.__value},m(a,o){D(a,e,o),p(e,s),p(e,n)},p(a,o){o&1&&t!==(t=a[6].name+"")&&Z(s,t),o&1&&i!==(i=a[6])&&(e.__value=i,e.value=e.__value)},d(a){a&&d(e)}}}function Ye(l){let e,t=l[3]?"Hide":"Show",s,n,i,a;return{c(){e=v("button"),s=K(t),n=K(" Filter"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var r=T(e);s=j(r,t),n=j(r," Filter"),r.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(o,r){D(o,e,r),p(e,s),p(e,n),i||(a=q(e,"click",l[13]),i=!0)},p(o,r){r&8&&t!==(t=o[3]?"Hide":"Show")&&Z(s,t)},d(o){o&&d(e),i=!1,a()}}}function Ze(l){let e,t=l[4]?"Hide":"Show",s,n,i,a;return{c(){e=v("button"),s=K(t),n=K(" Columns Config"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var r=T(e);s=j(r,t),n=j(r," Columns Config"),r.forEach(d),this.h()},h(){I(e,"type","button"),I(e,"class","btn-secondary")},m(o,r){D(o,e,r),p(e,s),p(e,n),i||(a=q(e,"click",l[10]),i=!0)},p(o,r){r&16&&t!==(t=o[4]?"Hide":"Show")&&Z(s,t)},d(o){o&&d(e),i=!1,a()}}}function xe(l){let e,t,s;return t=new $t({props:{isFilterApplied:l[2],canApplyFilter:l[5]}}),t.$on("applyFilter",l[8]),t.$on("resetFilter",l[9]),{c(){e=v("div"),ae(t.$$.fragment)},l(n){e=k(n,"DIV",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){D(n,e,i),ce(t,e,null),s=!0},p(n,i){const a={};i&4&&(a.isFilterApplied=n[2]),i&32&&(a.canApplyFilter=n[5]),t.$set(a)},i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ue(t)}}}function et(l){let e,t,s;return t=new jt({}),{c(){e=v("div"),ae(t.$$.fragment)},l(n){e=k(n,"DIV",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){D(n,e,i),ce(t,e,null),s=!0},i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ue(t)}}}function Ut(l){let e,t,s,n,i,a,o,r,c,g,f,u,m,h,C,N,b,_,E,y,L,ne,J=l[0],B=[];for(let V=0;V<J.length;V+=1)B[V]=Xe(Qe(l,J,V));let R=l[5]&&Ye(l),W=l[5]&&Ze(l),U=l[3]&&xe(l),F=l[4]&&et();return E=new bt({props:{logItems:l[1]}}),{c(){e=v("div"),t=v("div"),s=v("button"),n=K("Update Files List"),i=w(),a=v("label"),o=K("File:"),r=w(),c=v("select");for(let V=0;V<B.length;V+=1)B[V].c();g=w(),f=v("button"),u=K("Load File"),h=w(),R&&R.c(),C=w(),W&&W.c(),N=w(),U&&U.c(),b=w(),F&&F.c(),_=w(),ae(E.$$.fragment),this.h()},l(V){e=k(V,"DIV",{class:!0});var A=T(e);t=k(A,"DIV",{class:!0});var z=T(t);s=k(z,"BUTTON",{type:!0,class:!0});var P=T(s);n=j(P,"Update Files List"),P.forEach(d),i=M(z),a=k(z,"LABEL",{for:!0});var ie=T(a);o=j(ie,"File:"),ie.forEach(d),r=M(z),c=k(z,"SELECT",{id:!0});var Ne=T(c);for(let be=0;be<B.length;be+=1)B[be].l(Ne);Ne.forEach(d),g=M(z),f=k(z,"BUTTON",{type:!0});var Ce=T(f);u=j(Ce,"Load File"),Ce.forEach(d),h=M(z),R&&R.l(z),C=M(z),W&&W.l(z),z.forEach(d),N=M(A),U&&U.l(A),b=M(A),F&&F.l(A),_=M(A),re(E.$$.fragment,A),A.forEach(d),this.h()},h(){I(s,"type","button"),I(s,"class","btn-secondary"),I(a,"for","fileName"),I(c,"id","fileName"),l[6]===void 0&&ve(()=>l[12].call(c)),f.disabled=m=!l[6],I(f,"type","button"),I(t,"class","controls svelte-42l0ca"),I(e,"class","tracing-ui-root svelte-42l0ca")},m(V,A){D(V,e,A),p(e,t),p(t,s),p(s,n),p(t,i),p(t,a),p(a,o),p(t,r),p(t,c);for(let z=0;z<B.length;z+=1)B[z].m(c,null);x(c,l[6]),p(t,g),p(t,f),p(f,u),p(t,h),R&&R.m(t,null),p(t,C),W&&W.m(t,null),p(e,N),U&&U.m(e,null),p(e,b),F&&F.m(e,null),p(e,_),ce(E,e,null),y=!0,L||(ne=[q(s,"click",rt),q(c,"change",l[12]),q(f,"click",l[7])],L=!0)},p(V,[A]){if(A&1){J=V[0];let P;for(P=0;P<J.length;P+=1){const ie=Qe(V,J,P);B[P]?B[P].p(ie,A):(B[P]=Xe(ie),B[P].c(),B[P].m(c,null))}for(;P<B.length;P+=1)B[P].d(1);B.length=J.length}A&65&&x(c,V[6]),(!y||A&65&&m!==(m=!V[6]))&&(f.disabled=m),V[5]?R?R.p(V,A):(R=Ye(V),R.c(),R.m(t,C)):R&&(R.d(1),R=null),V[5]?W?W.p(V,A):(W=Ze(V),W.c(),W.m(t,null)):W&&(W.d(1),W=null),V[3]?U?(U.p(V,A),A&8&&G(U,1)):(U=xe(V),U.c(),G(U,1),U.m(e,b)):U&&(me(),H(U,1,1,()=>{U=null}),pe()),V[4]?F?A&16&&G(F,1):(F=et(),F.c(),G(F,1),F.m(e,_)):F&&(me(),H(F,1,1,()=>{F=null}),pe());const z={};A&2&&(z.logItems=V[1]),E.$set(z)},i(V){y||(G(U),G(F),G(E.$$.fragment,V),y=!0)},o(V){H(U),H(F),H(E.$$.fragment,V),y=!1},d(V){V&&d(e),de(B,V),R&&R.d(),W&&W.d(),U&&U.d(),F&&F.d(),ue(E),L=!1,oe(ne)}}}const at="api/trace-files";async function rt(){const e=await(await fetch(at)).text();return JSON.parse(e)}function Ft(l,e,t){let s,n=[],i,a=[],o=[],r=!1,c=!1,g=!1;Ee(async()=>{t(0,n=await rt())}),ee.subscribe(({isEditMode:b})=>{t(4,g=b)});async function f(){const b=`${at}/${encodeURIComponent(i.name)}`,E=await(await fetch(b)).text();t(11,a=E.split(`
`).filter(Boolean).map(Te.fromJson)),m()}function u({detail:b}){t(2,r=!0),t(1,o=a.filter(_=>b.every(E=>E.filter(_))))}function m(){t(2,r=!1),t(1,o=a.slice())}function h(){ee.update(b=>({...b,isEditMode:!b.isEditMode}))}function C(){i=ke(this),t(6,i),t(0,n)}const N=()=>t(3,c=!c);return l.$$.update=()=>{l.$$.dirty&2048&&t(5,s=a.length>0)},[n,o,r,c,g,s,i,f,u,m,h,a,C,N]}class zt extends te{constructor(e){super(),le(this,e,Ft,Ut,se,{})}}function Bt(l){let e,t,s;return t=new zt({}),{c(){e=v("section"),ae(t.$$.fragment)},l(n){e=k(n,"SECTION",{});var i=T(e);re(t.$$.fragment,i),i.forEach(d)},m(n,i){D(n,e,i),ce(t,e,null),s=!0},p:X,i(n){s||(G(t.$$.fragment,n),s=!0)},o(n){H(t.$$.fragment,n),s=!1},d(n){n&&d(e),ue(t)}}}class Pt extends te{constructor(e){super(),le(this,e,null,Bt,se,{})}}export{Pt as default};
